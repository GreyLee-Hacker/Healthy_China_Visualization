<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>健康中国可视化系统</title>
  <script type="text/javascript" src="js/jquery.js"></script>
  <link rel="stylesheet" href="css/comon0.css">
</head>

<body>
  <div class="loading">
    <div class="loadbox"> <img src="images/loading.gif"> 页面加载中... </div>
  </div>
  <div class="head">
    <h1>健康中国可视化系统</h1>
    <div class="time" id="showTime">2024/11/1 00:00:00</div>
    <script>
      var t = null;
      t = setTimeout(time, 1000);//開始运行
      function time() {
        clearTimeout(t);//清除定时器
        dt = new Date();
        var y = dt.getFullYear();
        var mt = dt.getMonth() + 1;
        var day = dt.getDate();
        var h = dt.getHours();//获取时
        var m = dt.getMinutes();//获取分
        var s = dt.getSeconds();//获取秒
        var t = null;
        document.getElementById("showTime").innerHTML = y + "/" + Appendzero(mt) + "/" + Appendzero(day) + " " + Appendzero(h) + ":" + Appendzero(m) + ":" + Appendzero(s) + "";
        function Appendzero(obj) {
          if (obj < 10) return "0" + "" + obj;
          else return obj;
        }
        t = setTimeout(time, 1000); //设定定时器，循环运行     
      }

    </script>

  </div>
  <div class="mainbox">
    <ul class="clearfix">
      <li>
        <div class="boxall" style="height: calc(40% - .15rem)">
          <div class="alltitle">基础数据 </div>
          <div class="sycm sycm1">
            <ul class="clearfix">
              <li>
                <h2>1468</h2>
                <span>国家层面政策（条）</span>
              </li>
              <li>
                <h2>11655</h2>
                <span>省级层面政策（条）</span>
              </li>
              <li>
                <h2>88</h2>
                <span>覆盖中央<br>政府部门（家）</span>
              </li>

              <li>
                <h2>1136</h2>
                <span>覆盖省级<br>政府部门（家）</span>
              </li>

              <li>
                <h2>8.5</h2>
                <span>政策横跨时间（年）</span>
              </li>
            </ul>
          </div>
          <div class="boxfoot"></div>
        </div>
        <div class="boxall" style="height: calc(60% - .15rem)">
          <div class="alltitle">部门协同网络</div>
          <div class="boxnav" id="network"></div>
          <div class="boxfoot"></div>
        </div>

      </li>
      <li>
        <div style="position: relative">
          <div class="barnav">

            <div class="bar">
              <div class="barbox" style="border: none;">
                <ul class="clearfix" style="text-align: center;">
                  <li style="float: none; display: inline-block;">省级维度</li>
                </ul>
              </div>
              <div class="barbox2" style="border: none;">
                <ul class="clearfix" style="text-align: center;">
                  <li style="float: none; display: inline-block;">中国地图</li>
                </ul>
              </div>

            </div>
          </div>
        </div>
        <div class="mapbox">
          <div class="map">
            <div class="map1"><img src="images/lbx.png"></div>
            <div class="map2"><img src="images/jt.png"></div>
            <div class="map3"><img src="images/map.png"></div>
            <div class="map4" id="map_1"></div>
          </div>
        </div>
      </li>
      <li>

        <div class="boxall" style="height: calc(50% - .15rem)">
          <div class="alltitle">部门维度
            <div class="pulll_right sebtn department-btn">
              <a href="javascript:void(0)" class="active" onclick="switchDepartmentView('2019')">2019</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2020')">2020</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2021')">2021</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2022')">2022</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2023')">2023</a>
            </div>
          </div>

          <div class="boxnav" id="echart3"></div>

          <div class="boxfoot"></div>
        </div>
        <div class="boxall" style="height: calc(50% - .15rem)">
          <div class="alltitle">行动维度
            <div class="pulll_right sebtn action-btn-container"
              style="width: 300px; overflow-x: auto; white-space: nowrap;">
              <div class="action-btn" style="display: inline-flex;">
                <a href="javascript:void(0)" class="active" onclick="switchActionView('2016')">2016</a>
                <a href="javascript:void(0)" onclick="switchActionView('2017')">2017</a>
                <a href="javascript:void(0)" onclick="switchActionView('2018')">2018</a>
                <a href="javascript:void(0)" onclick="switchActionView('2019')">2019</a>
                <a href="javascript:void(0)" onclick="switchActionView('2020')">2020</a>
                <a href="javascript:void(0)" onclick="switchActionView('2021')">2021</a>
                <a href="javascript:void(0)" onclick="switchActionView('2022')">2022</a>
                <a href="javascript:void(0)" onclick="switchActionView('2023')">2023</a>
              </div>
            </div>
          </div>
          <div class="boxnav" id="echart5"></div>
          <div class="boxfoot"></div>
        </div>
      </li>
    </ul>
    <!-- <div class="copyright">更多模板关注公众号"DreamCoders"免费获取</div> -->
  </div>

  <div class="mainbox2">
    <ul class="clearfix">
      <li>

        <div class="boxall" style="height: 100%">
          <div class="alltitle">政策树
            <div class="pulll_right">
              <a href="javascript:void(0)" class="active">健康中国政策体系</a>
            </div>
          </div>
          <div class="boxnav" id="policyTree"></div>
          <div class="boxfoot"></div>
        </div>

      </li>
      <li>
        <div class="boxall" style="height:100%">
          <div class="alltitle">中央维度
            <div class="pulll_right sebtn central-btn">
              <a href="javascript:void(0)" class="active" onclick="switchView('总得分')">总得分</a>
              <a href="javascript:void(0)" onclick="switchView('政策数量')">政策数量</a>
              <a href="javascript:void(0)" onclick="switchView('政策质量')">政策质量</a>
              <a href="javascript:void(0)" onclick="switchView('协同机制')">协同机制</a>
            </div>
          </div>
          <div class="boxnav" id="echart4" style="width: 100%; height: 200px;"></div>
          <div class="boxfoot"></div>
        </div>
      </li>

    </ul>
  </div>

  <script language="JavaScript" src="js/js.js"></script>
  <script type="text/javascript" src="js/echarts.min.js"></script>
  <script type="text/javascript" src="js/china.js"></script>
  <script type="text/javascript" src="js/area_echarts.js"></script>
  <script src="js/jquery.liMarquee.js"></script>
  <script>
    $(function () {
      $('.wrap,.adduser').liMarquee({
        direction: 'up',//身上滚动 
        runshort: false,//内不足时不滚动
        scrollamount: 20//速度
      });
    });

  </script>
  <!-- <meta http-equiv="refresh" content="50;url='https://blog.csdn.net/qq_31766533/article/details/119274641'"> -->

  <script type="text/javascript">
    $('.counter').countUp();
  </script>

  <script>
    var myChart = null;

    // 数据定义 - 确保包含所有年份
    var data = [
      { "年份": "2016年", "健康中国建设发展测度指数": 41.9978584275, "政策数量": 24.2529053219, "政策质量": 49.548572971, "协同机制": 59.8673247292, "防控重大疾病": 13, "全方位干预健康影响因素": 36, "维护全生命周期健康": 16, "当年完成率": 25.6661991585, "总体完成率": 91.0939691445, "平均完成月数": 31.9817036354, "发文联合率": 28, "平均协作规模": 2.5066666667, "参与部门": 45 },
      { "年份": "2017年", "健康中国建设发展测度指数": 39.1809892548, "政策数量": 28.0691106009, "政策质量": 61.1064357826, "协同机制": 44.9190013932, "防控重大疾病": 17, "全方位干预健康影响因素": 41, "维护全生命周期健康": 15, "当年完成率": 40.252454418, "总体完成率": 90.7433380084, "平均完成月数": 25.4508338657, "发文联合率": 27.9069767442, "平均协作规模": 1.8372093023, "参与部门": 36 },
      { "年份": "2018年", "健康中国建设发展测度指数": 44.569907586, "政策数量": 30.1833758144, "政策质量": 61.1064357826, "协同机制": 56.5327288563, "防控重大疾病": 17, "全方位干预健康影响因素": 46, "维护全生命周期健康": 17, "当年完成率": 40.252454418, "总体完成率": 90.7433380084, "平均完成月数": 25.4508338657, "发文联合率": 34.7826086957, "平均协作规模": 1.9891304348, "参与部门": 48 },
      { "年份": "2019年", "健康中国建设发展测度指数": 58.1998540941, "政策数量": 54.1496466337, "政策质量": 61.3240866555, "协同机制": 64.3206112561, "防控重大疾病": 33, "全方位干预健康影响因素": 58, "维护全生命周期健康": 49, "当年完成率": 43.9759036145, "总体完成率": 77.7108433735, "平均完成月数": 14.976744186, "发文联合率": 30, "平均协作规模": 2.34375, "参与部门": 59 },
      { "年份": "2020年", "健康中国建设发展测度指数": 71.8425803002, "政策数量": 93.0057470726, "政策质量": 73.8645356701, "协同机制": 57.8925584476, "防控重大疾病": 75, "全方位干预健康影响因素": 73, "维护全生命周期健康": 71, "当年完成率": 59.2760180995, "总体完成率": 80.5429864253, "平均完成月数": 11.191011236, "发文联合率": 30.303030303, "平均协作规模": 1.8917748918, "参与部门": 61 },
      { "年份": "2021年", "健康中国建设发展测度指数": 67.3875817514, "政策数量": 73.8936942405, "政策质量": 84.9304809287, "协同机制": 61.9930132046, "防控重大疾病": 43, "全方位干预健康影响因素": 67, "维护全生命周期健康": 83, "当年完成率": 65.1515151515, "总体完成率": 96.9696969697, "平均完成月数": 9.84375, "发文联合率": 29.8165137615, "平均协作规模": 2.1055045872, "参与部门": 63 },
      { "年份": "2022年", "健康中国建设发展测度指数": 68.0808548686, "政策数量": 75.4343704986, "政策质量": 92.5848505098, "协同机制": 62.1521907227, "防控重大疾病": 39, "全方位干预健康影响因素": 84, "维护全生命周期健康": 80, "当年完成率": 77.9411764706, "总体完成率": 92.6470588235, "平均完成月数": 6.9841269841, "发文联合率": 32.2033898305, "平均协作规模": 2.1610169492, "参与部门": 58 },
      { "年份": "2023年", "健康中国建设发展测度指数": 81.5569409048, "政策数量": 81.9258155176, "政策质量": 97.3474325483, "协同机制": 77.4844711643, "防控重大疾病": 59, "方位干预健康影响因素": 68, "维护生命周期健康": 74, "当年完成率": 84.0579710145, "总体完成率": 92.7536231884, "平均完成月数": 4.890625, "发文联合率": 41.5637860082, "平均协作规模": 2.658436214, "参与部门": 62 }
    ];

    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化图表实例
      myChart = echarts.init(document.getElementById('echart4'));

      // 将 switchView 函数暴露到全局作用域
      window.switchView = switchView;

      // 初始显示总得分
      switchView('总得分');

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (myChart) {
          myChart.resize();
        }
      });
    });

    function getOption(type) {
      const dataKey = type === '总得分' ? '健康中国建设发展测度指数' : type;
      const seriesData = data.map(item => item[dataKey]);
      const years = data.map(item => item["年份"]);

      return {
        title: {
          text: type,
          textStyle: {
            color: '#fff',
            fontSize: '16'
          },
          left: 'center',
          top: '2%'
        },
        grid: {
          top: '15%',
          left: '3%',
          right: '4%',
          bottom: '10%',
          containLabel: true
        },
        tooltip: {
          trigger: 'axis',
          axisPointer: {
            type: 'cross',
            label: {
              backgroundColor: '#6a7985'
            }
          },
          formatter: function (params) {
            const year = params[0].name;
            const yearData = data.find(item => item["年份"] === year);

            let content = `${year}<br/>`;
            content += `${params[0].seriesName}: ${params[0].value.toFixed(2)}<br/>`;

            if (type === '政策数量') {
              content += `防控重大疾病: ${yearData["防控重大疾病"]}件<br/>`;
              content += `全方位干预健康影响因素: ${yearData["全方位干预健康影响因素"]}件<br/>`;
              content += `维护全生命周期健康: ${yearData["维护全生命周期健康"]}件<br/>`;
            }

            if (type === '政策质量') {
              content += `当年完成率: ${yearData["当年完成率"].toFixed(2)}%<br/>`;
              content += `总体完成率: ${yearData["总体完成率"].toFixed(2)}%<br/>`;
              content += `平均完成月数: ${yearData["平均完成月数"].toFixed(2)}月<br/>`;
            }

            if (type === '协同机制') {
              content += `发文联合率: ${yearData["发文联合率"].toFixed(2)}%<br/>`;
              content += `平均协作规模: ${yearData["平均协作规模"].toFixed(2)}<br/>`;
              content += `参与部门: ${yearData["参与部门"]}`;
            }

            return content;
          }
        },
        legend: {
          data: [type],
          textStyle: {
            color: 'rgba(255,255,255,.6)'
          },
          top: '5%',
          right: '3%'
        },
        xAxis: {
          type: 'category',
          data: years,
          axisLabel: {
            show: true,
            interval: 0,
            color: 'rgba(255,255,255,.6)',
            rotate: 45
          },
          axisLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.2)'
            }
          },
          axisTick: {
            alignWithLabel: true
          }
        },
        yAxis: {
          type: 'value',
          name: type === '总得分' ? '指数' : '数值',
          nameTextStyle: {
            color: 'rgba(255,255,255,.6)'
          },
          axisLabel: {
            color: 'rgba(255,255,255,.6)'
          },
          axisLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.2)'
            }
          },
          splitLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.1)',
              type: 'dashed'
            }
          }
        },
        series: [{
          name: type,
          type: 'line',
          data: seriesData,
          smooth: true,
          symbol: 'circle',
          symbolSize: 8,
          itemStyle: {
            color: '#62c98d',
            borderWidth: 2,
            borderColor: '#fff'
          },
          lineStyle: {
            color: '#62c98d',
            width: 2
          },
          areaStyle: {
            color: {
              type: 'linear',
              x: 0,
              y: 0,
              x2: 0,
              y2: 1,
              colorStops: [{
                offset: 0,
                color: 'rgba(98,201,141,0.5)'
              }, {
                offset: 1,
                color: 'rgba(98,201,141,0.1)'
              }]
            }
          }
        }]
      };
    }

    function switchView(type) {
      // 更新按钮状态，只选择中央维度的按钮
      $('.central-btn a').each(function () {
        $(this).removeClass('active');
        if ($(this).text() === type) {
          $(this).addClass('active');
        }
      });

      // 更新图表
      if (myChart) {
        myChart.clear();
        myChart.setOption(getOption(type));
      }
    }
  </script>

  <script>
    var departmentChart = null;
    var spNum = 10;

    const departmentData = {
      '2019': [
        { name: '国家卫生健康委员会', value: 46.91 },
        { name: '国家市场监督管理总局', value: 26.94 },
        { name: '人力资源和社会保障部', value: 26.74 },
        { name: '科学技术部', value: 26.51 },
        { name: '国务院扶贫开发领导小组办公室', value: 26.32 },
        { name: '中华全国总工会', value: 26.31 },
        { name: '海关总署', value: 26.23 },
        { name: '财政部', value: 26.10 },
        { name: '国家民族事务委员会', value: 26.05 },
        { name: '住房和城乡建设部', value: 25.99 }
      ],
      '2020': [
        { name: '国家卫生健康委员会', value: 54.14 },
        { name: '中央宣传部', value: 28.84 },
        { name: '国家信访局', value: 28.65 },
        { name: '中央网络安全和信息化委员会办', value: 27.32 },
        { name: '财政部', value: 27.05 },
        { name: '公安部', value: 26.92 },
        { name: '中央政法委员会', value: 26.92 },
        { name: '国务院扶贫开发领导小组办公室', value: 26.91 },
        { name: '民政部', value: 26.61 },
        { name: '司法部', value: 26.54 }
      ],
      '2021': [
        { name: '国家卫生健康委员会', value: 52.98 },
        { name: '中华全国总工会', value: 28.36 },
        { name: '人力资源和社会保障部', value: 27.72 },
        { name: '财政部', value: 27.53 },
        { name: '科学技术部', value: 27.23 },
        { name: '中央政法委员会', value: 27.06 },
        { name: '中华全国妇女联合会', value: 27.01 },
        { name: '中央宣传部', value: 26.68 },
        { name: '民政部', value: 26.50 },
        { name: '住房和城乡建设部', value: 26.26 }
      ],
      '2022': [
        { name: '国家卫生健康委员会', value: 52.67 },
        { name: '中央政法委员会', value: 32.92 },
        { name: '中央宣传部', value: 29.60 },
        { name: '中国民用航空局', value: 28.88 },
        { name: '国家铁路局', value: 28.70 },
        { name: '国家广播电视总局', value: 28.19 },
        { name: '工业和信息化部', value: 27.73 },
        { name: '交通运输部', value: 27.52 },
        { name: '文化和旅游部', value: 27.09 },
        { name: '中华全国妇女联合会', value: 26.92 }
      ],
      '2023': [
        { name: '国家卫生健康委员会', value: 69.75 },
        { name: '国家铁路局', value: 31.16 },
        { name: '中国国家铁路集团有限公司', value: 31.16 },
        { name: '中国民用航空局', value: 31.11 },
        { name: '民政部', value: 29.47 },
        { name: '中央宣传部', value: 28.85 },
        { name: '教育部', value: 28.74 },
        { name: '科学技术部', value: 28.52 },
        { name: '中华全国总工会', value: 28.14 },
        { name: '交通运输部', value: 28.06 }
      ]
    };

    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化图表实例
      departmentChart = echarts.init(document.getElementById('echart3'));

      // 初始显示2019年数据
      switchDepartmentView('2019');

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (departmentChart) {
          departmentChart.resize();
        }
      });
    });

    function getDepartmentOption(year) {
      // 获取当前年份的部门名称数组
      const y_data = departmentData[year].map(item => item.name);

      return {
        grid: {
          containLabel: true,
          top: 10,
          left: 0,
          right: -150,
          bottom: 0
        },
        tooltip: {
          show: true,
          formatter: function (params) {
            if (params.name == '国务院扶贫开发领导小组办公室') {
              return '国务院扶贫开发<br/>领导小组办公室<br/>' + params.seriesName + ':' + params.value.toFixed(2)
            }
            if (params.name == '中央网络安全和信息化委员会办') {
              return '中央网络安全<br/>和信息化委员会办<br/>' + params.seriesName + ':' + params.value.toFixed(2)
            }
            return params.name + '<br/>' + params.seriesName + ':' + params.value.toFixed(2)
          }
        },
        xAxis: {
          splitNumber: spNum,
          max: Math.max(...departmentData[year].map(item => item.value)) + 5,
          axisLabel: {
            show: false,
            formatter: function (v) {
              var _v = (v).toFixed(2);
              return _v == 0 ? _v : _v;
            }
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        },
        yAxis: [{
          data: y_data,
          inverse: true,
          axisLabel: {
            fontSize: 12,
            color: 'rgba(255,255,255,.6)'
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        }, {
          show: false,
          data: y_data,
          axisLine: { show: false }
        }],
        series: [{
          type: 'bar',
          name: '总得分',
          label: {
            normal: {
              show: true,
              position: 'inside',
              formatter: function (params) {
                return params.value.toFixed(2);
              },
              textStyle: {
                color: '#fff',
                fontSize: 12
              }
            }
          },
          barWidth: '75%',
          itemStyle: {
            normal: { color: '#58c485' },
            emphasis: { color: '#ea7231' }
          },
          data: departmentData[year].map(item => item.value)
        }]
      };
    }

    function switchDepartmentView(year) {
      // 更新按钮状态，只选择部门维度的按钮
      $('.department-btn a').each(function () {
        $(this).removeClass('active');
        if ($(this).text() === year) {
          $(this).addClass('active');
        }
      });

      // 更新图表
      if (departmentChart) {
        departmentChart.clear();
        departmentChart.setOption(getDepartmentOption(year));
      }
    }

    // 将函数暴露到全局作用域
    window.switchDepartmentView = switchDepartmentView;
  </script>

  <script>
    var actionChart = null;

    // 定义行动维度的数据
    const actionData = {
      '2016': [
        { name: '老年健康促进行动', value: 47.55 },
        { name: '健康知识普及行动', value: 34.17 },
        { name: '职业健康保护行动', value: 31.78 },
        { name: '全民健身行动', value: 31.00 },
        { name: '健康环境促进行动', value: 26.37 },
        { name: '糖尿病防治行动', value: 26.76 },
        { name: '控烟行动', value: 24.58 },
        { name: '合理膳食行动', value: 23.21 },
        { name: '传染病及地方病防控行动', value: 21.82 },
        { name: '癌症防治行动', value: 21.10 },
        { name: '慢性呼吸系统疾病防治行动', value: 19.62 },
        { name: '妇幼健康促进行动', value: 19.58 },
        { name: '心理健康促进行动', value: 19.43 },
        { name: '心脑血管疾病防治行动', value: 18.18 },
        { name: '中小学健康促进行动', value: 17.28 }
      ],
      '2017': [
        { name: '心理健康促进行动', value: 44.48 },
        { name: '老年健康促进行动', value: 38.25 },
        { name: '健康知识普及行动', value: 37.07 },
        { name: '传染病及地方病防控行动', value: 36.46 },
        { name: '慢性呼吸系统疾病防治行动', value: 35.19 },
        { name: '妇幼健康促进行动', value: 29.52 },
        { name: '合理膳食行动', value: 29.00 },
        { name: '控烟行动', value: 27.66 },
        { name: '癌症防治行动', value: 27.15 },
        { name: '糖尿病防治行动', value: 26.60 },
        { name: '心脑血管疾病防治行动', value: 26.11 },
        { name: '全民健身行动', value: 22.97 },
        { name: '职业健康保护行动', value: 22.88 },
        { name: '中小学健康促进行动', value: 22.31 },
        { name: '健康环境促进行动', value: 22.24 }
      ],
      '2018': [
        { name: '健康知识普及行动', value: 46.85 },
        { name: '老年健康促进行动', value: 39.64 },
        { name: '合理膳食行动', value: 36.65 },
        { name: '控烟行动', value: 34.68 },
        { name: '中小学健康促进行动', value: 33.09 },
        { name: '妇幼健康促进行动', value: 31.67 },
        { name: '传染病及地方病防控行动', value: 31.43 },
        { name: '健康环境促进行动', value: 30.94 },
        { name: '全民健身行动', value: 27.78 },
        { name: '心理健康促进行动', value: 23.38 },
        { name: '职业健康保护行动', value: 22.36 },
        { name: '癌症防治行动', value: 22.01 },
        { name: '慢性呼吸系统疾病防治行动', value: 18.33 },
        { name: '心脑血管疾病防治行动', value: 16.41 },
        { name: '糖尿病防治行动', value: 16.10 }
      ],
      '2019': [
        { name: '老年健康促进行动', value: 47.58 },
        { name: '健康知识普及行动', value: 45.62 },
        { name: '合理膳食行动', value: 44.48 },
        { name: '中小学健康促进行动', value: 43.80 },
        { name: '职业健康保护行动', value: 38.38 },
        { name: '传染病及地方病防控行动', value: 36.02 },
        { name: '妇幼健康促进行动', value: 35.77 },
        { name: '心理健康促进行动', value: 35.64 },
        { name: '控烟行动', value: 33.85 },
        { name: '全民健身行动', value: 33.79 },
        { name: '癌症防治行动', value: 32.98 },
        { name: '健康环境促进行动', value: 28.10 },
        { name: '糖尿病防治行动', value: 27.34 },
        { name: '心脑血管疾病防治行动', value: 21.00 },
        { name: '慢性呼吸系统疾病防治行动', value: 16.94 }
      ],
      '2020': [
        { name: '老年健康促进行动', value: 61.94 },
        { name: '传染病及地方病防控行动', value: 53.97 },
        { name: '健康知识普及行动', value: 40.75 },
        { name: '心理健康促进行动', value: 38.67 },
        { name: '控烟行动', value: 37.19 },
        { name: '职业健康保护行动', value: 36.77 },
        { name: '妇幼健康促进行动', value: 36.06 },
        { name: '健康环境促进行动', value: 35.70 },
        { name: '合理膳食行动', value: 33.91 },
        { name: '全民健身行动', value: 33.64 },
        { name: '中小学健康促进行动', value: 33.42 },
        { name: '心脑血管疾病防治行动', value: 28.99 },
        { name: '癌症防治行动', value: 26.76 },
        { name: '慢性呼吸系统疾病防治行动', value: 22.27 },
        { name: '糖尿病防治行动', value: 19.50 }
      ],
      '2021': [
        { name: '健康知识普及行动', value: 52.82 },
        { name: '老年健康促进行动', value: 50.36 },
        { name: '健康环境促进行动', value: 49.74 },
        { name: '心理健康促进行动', value: 44.17 },
        { name: '职业健康保护行动', value: 44.08 },
        { name: '中小学健康促进行动', value: 43.66 },
        { name: '妇幼健康促进行动', value: 43.62 },
        { name: '全民健身行动', value: 40.40 },
        { name: '合理膳食行动', value: 36.86 },
        { name: '传染病及地方病防控行动', value: 36.18 },
        { name: '心脑血管疾病防治行动', value: 33.63 },
        { name: '控烟行动', value: 32.67 },
        { name: '慢性呼吸系统疾病防治行动', value: 26.53 },
        { name: '癌症防治行动', value: 25.83 },
        { name: '糖尿病防治行动', value: 21.63 }
      ],
      '2022': [
        { name: '老年健康促进行动', value: 65.39 },
        { name: '健康知识普及行动', value: 56.75 },
        { name: '妇幼健康促进行动', value: 49.52 },
        { name: '健康环境促进行动', value: 47.86 },
        { name: '全民健身行动', value: 47.40 },
        { name: '职业健康保护行动', value: 45.46 },
        { name: '中小学健康促进行动', value: 39.29 },
        { name: '传染病及地方病防控行动', value: 38.15 },
        { name: '控烟行动', value: 33.69 },
        { name: '慢性呼吸系统疾病防治行动', value: 31.77 },
        { name: '合理膳食行动', value: 31.22 },
        { name: '心理健康促进行动', value: 28.27 },
        { name: '糖尿病防治行动', value: 27.32 },
        { name: '心脑血管疾病防治行动', value: 24.86 },
        { name: '癌症防治行动', value: 20.25 }
      ],
      '2023': [
        { name: '传染病及地方病防控行动', value: 57.36 },
        { name: '健康知识普及行动', value: 55.92 },
        { name: '老年健康促进行动', value: 55.56 },
        { name: '健康环境促进行动', value: 54.44 },
        { name: '妇幼健康促进行动', value: 54.37 },
        { name: '心理健康促进行动', value: 50.99 },
        { name: '职业健康保护行动', value: 48.29 },
        { name: '全民健身行动', value: 47.11 },
        { name: '中小学健康促进行动', value: 44.73 },
        { name: '合理膳食行动', value: 39.05 },
        { name: '癌症防治行动', value: 36.80 },
        { name: '心脑血管疾病防治行动', value: 36.70 },
        { name: '控烟行动', value: 28.01 },
        { name: '慢性呼吸系统疾病防治行动', value: 27.27 },
        { name: '糖尿病防治行动', value: 21.36 }
      ]
    };

    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化行动维度图表
      actionChart = echarts.init(document.getElementById('echart5'));

      // 确保switchActionView函数在全局作用域可用
      window.switchActionView = switchActionView;

      // 初始显示2016年数据
      switchActionView('2016');

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (actionChart) {
          actionChart.resize();
        }
      });
    });

    function getActionOption(year) {
      const y_data = actionData[year].map(item => item.name);

      return {
        grid: {
          containLabel: true,
          top: 10,
          left: 0,
          right: -150,
          bottom: 0
        },
        tooltip: {
          show: true,
          formatter: function (params) {
            return params.name + '<br/>' + params.seriesName + ':' + params.value.toFixed(2);
          }
        },
        xAxis: {
          splitNumber: spNum,
          max: Math.max(...actionData[year].map(item => item.value)) + 5,
          axisLabel: {
            show: false,
            formatter: function (v) {
              var _v = (v).toFixed(2);
              return _v == 0 ? _v : _v;
            }
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        },
        yAxis: [{
          data: y_data,
          inverse: true,
          axisLabel: {
            fontSize: 8,
            color: 'rgba(255,255,255,.6)'
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        }, {
          show: false,
          data: y_data,
          axisLine: { show: false }
        }],
        series: [{
          type: 'bar',
          name: '总得分',
          label: {
            normal: {
              show: true,
              position: 'inside',
              formatter: function (params) {
                return params.value.toFixed(2);
              },
              textStyle: {
                color: '#fff',
                fontSize: 8
              }
            }
          },
          barWidth: '50%',
          itemStyle: {
            normal: { color: '#58c485' },
            emphasis: { color: '#ea7231' }
          },
          data: actionData[year].map(item => item.value)
        }]
      };
    }

    function switchActionView(year) {
      // 更新按钮状态
      $('.action-btn a').each(function () {
        $(this).removeClass('active');
        if ($(this).text() === year) {
          $(this).addClass('active');
        }
      });

      // 更新图表
      if (actionChart) {
        actionChart.clear();
        actionChart.setOption(getActionOption(year));
      }
    }

    // 将函数暴露到全局作用域
    window.switchActionView = switchActionView;
  </script>

  <script>
    // 政策树图表初始化
    var policyTreeChart = null;

    // 定义政策树数据
    const policyTreeData = {
      name: '健康中国政策体系',
      children: [
        {
          name: '防控重大疾病',
          children: [
            { name: '癌症防治行动' },
            { name: '心脑血管疾病防治行动' },
            { name: '糖尿病防治行动' },
            { name: '传染病及地方病防控行动' },
            { name: '慢性呼吸系统疾病防治行动' }
          ]
        },
        {
          name: '全方位干预健康影响因素',
          children: [
            { name: '健康知识普及行动' },
            { name: '合理膳食行动' },
            { name: '全民健身行动' },
            { name: '控烟行动' },
            { name: '健康环境促进行动' }
          ]
        },
        {
          name: '维护全生命周期健康',
          children: [
            { name: '妇幼健康促进行动' },
            { name: '中小学健康促进行动' },
            { name: '职业健康保护行动' },
            { name: '老年健康促进行动' },
            { name: '心理健康促进行动' }
          ]
        }
      ]
    };

    function getPolicyTreeOption() {
      // 配置树图选项
      const policyTreeOption = {
        tooltip: {
          trigger: 'item',
          triggerOn: 'mousemove'
        },
        series: [
          {
            type: 'tree',
            data: [policyTreeData],
            top: '5%',
            left: '10%',
            bottom: '5%',
            right: '10%',
            symbolSize: 10,
            label: {
              position: 'left',
              verticalAlign: 'middle',
              align: 'right',
              color: 'rgba(255,255,255,.8)',
              fontSize: 12
            },
            leaves: {
              label: {
                position: 'right',
                verticalAlign: 'middle',
                align: 'left'
              }
            },
            emphasis: {
              focus: 'descendant'
            },
            expandAndCollapse: true,
            animationDuration: 550,
            animationDurationUpdate: 750,
            initialTreeDepth: 2,
            lineStyle: {
              color: '#58c485',
              width: 1
            },
            itemStyle: {
              color: '#58c485',
              borderColor: '#fff'
            }
          }
        ]
      };
      return policyTreeOption;
    }

    $(document).ready(function () {
      // 初始化树图
      policyTreeChart = echarts.init(document.getElementById('policyTree'));
      policyTreeChart.setOption(getPolicyTreeOption());

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (policyTreeChart) {
          policyTreeChart.resize();
        }
      });
    });
  </script>

  <script>
    var networkChart = null;

    // 定义部门节点数据
    const departmentNodes = [
      { name: '国家卫生健康委员会', symbolSize: 50 },
      { name: '科学技术部', symbolSize: 30 },
      { name: '财政部', symbolSize: 30 },
      { name: '教育部', symbolSize: 30 },
      { name: '民政部', symbolSize: 30 },
      { name: '人力资源和社会保障部', symbolSize: 30 },
      { name: '中央宣传部', symbolSize: 30 },
      { name: '工业和信息化部', symbolSize: 30 },
      { name: '公安部', symbolSize: 30 },
      { name: '交通运输部', symbolSize: 30 }
    ];

    // 定义部门间关系数据
    const departmentLinks = [
      { source: '国家卫生健康委员会', target: '科学技术部', value: 0.8 },
      { source: '国家卫生健康委员会', target: '财政部', value: 0.7 },
      { source: '国家卫生健康委员会', target: '教育部', value: 0.9 },
      { source: '国家卫生健康委员会', target: '民政部', value: 0.6 },
      { source: '教育部', target: '科学技术部', value: 0.5 },
      { source: '民政部', target: '人力资源和社会保障部', value: 0.4 },
      { source: '中央宣传部', target: '教育部', value: 0.6 },
      { source: '工业和信息化部', target: '科学技术部', value: 0.7 },
      { source: '公安部', target: '交通运输部', value: 0.5 },
      // 可以继续添加更多关系
    ];

    // 初始化关系图配置
    function getNetworkOption() {
      return {
        tooltip: {
          formatter: function (params) {
            if (params.dataType === 'edge') {
              return `${params.data.source} -> ${params.data.target}<br/>协同强度: ${params.data.value}`;
            }
            return params.data.name;
          }
        },
        series: [{
          type: 'graph',
          layout: 'force',
          force: {
            repulsion: 400,
            edgeLength: 120
          },
          roam: true,
          draggable: true,
          label: {
            show: true,
            position: 'right',
            color: 'rgba(255,255,255,.8)',
            fontSize: 12
          },
          data: departmentNodes.map(node => ({
            ...node,
            itemStyle: {
              color: '#58c485'
            }
          })),
          edges: departmentLinks.map(link => ({
            ...link,
            lineStyle: {
              width: link.value * 5, // 根据关系强度设置线条粗细
              color: 'rgba(88,196,133,0.6)',
              curveness: 0.3
            }
          })),
          emphasis: {
            focus: 'adjacency',
            lineStyle: {
              color: '#fff'
            }
          },
        }]
      };
    }

    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化网络图表
      networkChart = echarts.init(document.getElementById('network'));
      networkChart.setOption(getNetworkOption());

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (networkChart) {
          networkChart.resize();
        }
      });
    });
  </script>
</body>

</html>