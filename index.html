<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>健康中国可视化系统</title>
  <script type="text/javascript" src="js/jquery.js"></script>
  <link rel="stylesheet" href="css/comon0.css">
</head>

<body>
  <div class="loading">
    <div class="loadbox"> <img src="images/loading.gif"> 页面加载中... </div>
  </div>
  <div class="head">
    <h1>健康中国可视化系统</h1>
    <div class="time" id="showTime">2024/11/1 00:00:00</div>
    <script>
      var t = null;
      t = setTimeout(time, 1000);//開始运行
      function time() {
        clearTimeout(t);//清除定时器
        dt = new Date();
        var y = dt.getFullYear();
        var mt = dt.getMonth() + 1;
        var day = dt.getDate();
        var h = dt.getHours();//获取时
        var m = dt.getMinutes();//获取分
        var s = dt.getSeconds();//获取秒
        var t = null;
        document.getElementById("showTime").innerHTML = y + "/" + Appendzero(mt) + "/" + Appendzero(day) + " " + Appendzero(h) + ":" + Appendzero(m) + ":" + Appendzero(s) + "";
        function Appendzero(obj) {
          if (obj < 10) return "0" + "" + obj;
          else return obj;
        }
        t = setTimeout(time, 1000); //设定定时器，循环运行     
      }

    </script>

  </div>
  <div class="mainbox">
    <ul class="clearfix">
      <li>
        <div class="boxall" style="height: calc(40% - .15rem)">
          <div class="alltitle">基础数据 </div>
          <div class="sycm sycm1">
            <ul class="clearfix">
              <li>
                <h2>1468</h2>
                <span>国家层面政策（条）</span>
              </li>
              <li>
                <h2>11655</h2>
                <span>省级层面政策（条）</span>
              </li>
              <li>
                <h2>88</h2>
                <span>覆盖中央<br>政府部门（家）</span>
              </li>

              <li>
                <h2>1136</h2>
                <span>覆盖省级<br>政府部门（家）</span>
              </li>

              <li>
                <h2>8.5</h2>
                <span>政策横跨时间（年）</span>
              </li>
            </ul>
          </div>
          <div class="boxfoot"></div>
        </div>
        <div class="boxall" style="height: calc(60% - .15rem)">
          <div class="alltitle">部门协同网络</div>
          <div class="sycm sycm2">
            <ul class="clearfix">
              <li>
                <h2>1824</h2>
                <span>字段名称</span>
              </li>
              <li>
                <h2>1920</h2>
                <span>字段名称</span>
              </li>
              <li>
                <h2>19%</h2>
                <span>字段名称</span>
              </li>

              <li>
                <h2>1824</h2>
                <span>字段名称</span>
              </li>
              <li>
                <h2>19%</h2>
                <span>字段名称</span>
              </li>

              <li>
                <h2>1824</h2>
                <span>字段名称</span>
              </li>

            </ul>
          </div>
          <div class="boxfoot"></div>
        </div>

      </li>
      <li>
        <div style="position: relative">
          <div class="barnav">

            <div class="bar">
              <div class="barbox">
                <ul class="clearfix">
                  <li class="pulll_left counter">1942</li>
                  <li class="pulll_left counter">98612</li>
                  <li class="pulll_left counter">2091</li>
                </ul>
              </div>
              <div class="barbox2">
                <ul class="clearfix">
                  <li class="pulll_left">字段名称</li>
                  <li class="pulll_left">字段名称</li>
                  <li class="pulll_left">字段名称</li>
                </ul>
              </div>

            </div>
          </div>
        </div>
        <div class="mapbox">
          <div class="map">
            <div class="map1"><img src="images/lbx.png"></div>
            <div class="map2"><img src="images/jt.png"></div>
            <div class="map3"><img src="images/map.png"></div>
            <div class="map4" id="map_1"></div>
          </div>
        </div>
      </li>
      <li>

        <div class="boxall" style="height: calc(50% - .15rem)">
          <div class="alltitle">部门维度 <div class="pulll_right">
              <a href="https://gitee.com/iGaoWei/big-data-view"><span></span>已维修</a>
              <a href="https://gitee.com/iGaoWei/big-data-view"><span></span>未维修</a>
            </div>
          </div>

          <div class="boxnav" id="echart3"></div>

          <div class="boxfoot"></div>
        </div>
        <div class="boxall" style="height: calc(50% - .15rem)">
          <div class="alltitle">行动维度</div>
          <div class="wrap boxnav">
            <ul>
              <li>
                <p><span>深圳腾讯科技有限公司</span><span>门禁系统</span><span>在线</span></p>
              </li>
              <li>
                <p><span>网易科技有限公司</span><span>防火系统</span><span>在线</span></p>
              </li>
              <li>
                <p><span>百度科技有限公司</span><span>防火系统</span><span>在线</span></p>
              </li>
              <li>
                <p><span>汽车之家科技有限公司</span><span>定位系统</span><span>在线</span></p>
              </li>
              <li>
                <p><span>小米科技有限公司</span><span>定位系统</span><span>在线</span></p>
              </li>

            </ul>
          </div>
          <div class="boxfoot"></div>
        </div>
      </li>
    </ul>
    <div class="copyright">更多模板关注公众号"DreamCoders"免费获取</div>
  </div>

  <div class="mainbox2">
    <ul class="clearfix">
      <li>

        <div class="boxall" style="height: 100%">
          <div class="alltitle">政策树
            <div class="pulll_right">
              <a href="https://gitee.com/iGaoWei/big-data-view"><span></span>已检点</a>
              <a href="https://gitee.com/iGaoWei/big-data-view"><span></span>未检点</a>
            </div>
          </div>
          <div class="boxnav">
            <ul class="btbox">
              <li id="bt01"></li>
              <li id="bt02"></li>
              <li id="bt03"></li>
              <li id="bt04"></li>
            </ul>
          </div>
          <div class="boxfoot"></div>
        </div>

      </li>
      <li>
        <div class="boxall" style="height:100%">
          <div class="alltitle">中央维度
            <div class="pulll_right sebtn">
              <a href="javascript:void(0)" class="active" onclick="switchView('总得分')">总得分</a>
              <a href="javascript:void(0)" onclick="switchView('政策数量')">政策数量</a>
              <a href="javascript:void(0)" onclick="switchView('政策质量')">政策质量</a>
              <a href="javascript:void(0)" onclick="switchView('协同机制')">协同机制</a>
            </div>
          </div>
          <div class="boxnav" id="echart4" style="width: 100%; height: 200px;"></div>
          <div class="boxfoot"></div>
        </div>
      </li>

    </ul>
  </div>

  <script language="JavaScript" src="js/js.js"></script>
  <script type="text/javascript" src="js/echarts.min.js"></script>
  <script type="text/javascript" src="js/china.js"></script>
  <script type="text/javascript" src="js/area_echarts.js"></script>
  <script src="js/jquery.liMarquee.js"></script>
  <script>
    $(function () {
      $('.wrap,.adduser').liMarquee({
        direction: 'up',//身上滚动 
        runshort: false,//内��不足时不滚动
        scrollamount: 20//速度
      });
    });

  </script>
  <!-- <meta http-equiv="refresh" content="50;url='https://blog.csdn.net/qq_31766533/article/details/119274641'"> -->

  <script type="text/javascript">
    $('.counter').countUp();
  </script>

  <script>
    var myChart = null;
    
    // 数据定义 - 确保包含所有年份
    var data = [
        { "年份": "2016年", "健康中国建设发展测度指数": 41.9978584275, "政策数量": 24.2529053219, "政策质量": 49.548572971, "协同机制": 59.8673247292 },
        { "年份": "2017年", "健康中国建设发展测度指数": 39.1809892548, "政策数量": 28.0691106009, "政策质量": 61.1064357826, "协同机制": 44.9190013932 },
        { "年份": "2018年", "健康中国建设发展测度指数": 44.569907586, "政策数量": 30.1833758144, "政策质量": 61.1064357826, "协同机制": 56.5327288563 },
        { "年份": "2019年", "健康中国建设发展测度指数": 58.1998540941, "政策数量": 54.1496466337, "政策质量": 61.3240866555, "协同机制": 64.3206112561 },
        { "年份": "2020年", "健康中国建设发展测度指数": 71.8425803002, "政策数量": 93.0057470726, "政策质量": 73.8645356701, "协同机制": 57.8925584476 },
        { "年份": "2021年", "健康中国建设发展测度指数": 67.3875817514, "政策数量": 73.8936942405, "政策质量": 84.9304809287, "协同机制": 61.9930132046 },
        { "年份": "2022年", "健康中国建设发展测度指数": 68.0808548686, "政策数量": 75.4343704986, "政策质量": 92.5848505098, "协同机制": 62.1521907227 },
        { "年份": "2023年", "健康中国建设发展测度指数": 81.5569409048, "政策数量": 81.9258155176, "政策质量": 97.3474325483, "协同机制": 77.4844711643 }
    ];

    // 页面加载完成后初始化
    $(document).ready(function() {
        // 初始化图表实例
        myChart = echarts.init(document.getElementById('echart4'));
        
        // 将 switchView 函数暴露到全局作用域
        window.switchView = switchView;

        // 初始显示总得分
        switchView('总得分');

        // 监听窗口大小变化
        window.addEventListener('resize', function () {
            if (myChart) {
                myChart.resize();
            }
        });
    });

    function getOption(type) {
        const dataKey = type === '总得分' ? '健康中国建设发展测度指数' : type;
        const seriesData = data.map(item => item[dataKey]);
        const years = data.map(item => item["年份"]);

        return {
            title: {
                text: type,
                textStyle: {
                    color: '#fff',
                    fontSize: '16'
                },
                left: 'center',
                top: '2%'
            },
            grid: {
                top: '15%',
                left: '3%',
                right: '4%',
                bottom: '10%',
                containLabel: true
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
                data: [type],
                textStyle: {
                    color: 'rgba(255,255,255,.6)'
                },
                top: '5%',
                right: '3%'
            },
            xAxis: {
                type: 'category',
                data: years,
                axisLabel: {
                    show: true,
                    interval: 0,  // 强制显示所有标签
                    color: 'rgba(255,255,255,.6)',
                    rotate: 45    // 旋转标签，防止重叠
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.2)'
                    }
                },
                axisTick: {
                    alignWithLabel: true
                }
            },
            yAxis: {
                type: 'value',
                name: type === '总得分' ? '指数' : '数值',
                nameTextStyle: {
                    color: 'rgba(255,255,255,.6)'
                },
                axisLabel: {
                    color: 'rgba(255,255,255,.6)'
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.2)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.1)',
                        type: 'dashed'
                    }
                }
            },
            series: [{
                name: type,
                type: 'line',
                data: seriesData,
                smooth: true,
                symbol: 'circle',
                symbolSize: 8,
                itemStyle: {
                    color: '#62c98d',
                    borderWidth: 2,
                    borderColor: '#fff'
                },
                lineStyle: {
                    color: '#62c98d',
                    width: 2
                },
                areaStyle: {
                    color: {
                        type: 'linear',
                        x: 0,
                        y: 0,
                        x2: 0,
                        y2: 1,
                        colorStops: [{
                            offset: 0,
                            color: 'rgba(98,201,141,0.5)'
                        }, {
                            offset: 1,
                            color: 'rgba(98,201,141,0.1)'
                        }]
                    }
                }
            }]
        };
    }

    function switchView(type) {
        // 更新按钮状态
        document.querySelectorAll('.sebtn a').forEach(a => {
            a.classList.remove('active');
            if (a.textContent === type) {
                a.classList.add('active');
            }
        });

        // 更新图表
        if (myChart) {
            myChart.clear();  // 清除旧的图表
            myChart.setOption(getOption(type));
        }
    }
  </script>
</body>

</html>