<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>健康中国可视化系统</title>
  <script type="text/javascript" src="js/jquery.js"></script>
  <link rel="stylesheet" href="css/comon0.css">
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
</head>

<body>
  <div class="loading">
    <div class="loadbox"> <img src="images/loading.gif"> 页面加载中... </div>
  </div>
  <div class="head">
    <h1>健康中国可视化系统</h1>
    <div class="time" id="showTime">2024/11/1 00:00:00</div>
    <script>
      var t = null;
      t = setTimeout(time, 1000);//開始运行
      function time() {
        clearTimeout(t);//清除定时器
        dt = new Date();
        var y = dt.getFullYear();
        var mt = dt.getMonth() + 1;
        var day = dt.getDate();
        var h = dt.getHours();//获取时
        var m = dt.getMinutes();//获取分
        var s = dt.getSeconds();//获取秒
        var t = null;
        document.getElementById("showTime").innerHTML = y + "/" + Appendzero(mt) + "/" + Appendzero(day) + " " + Appendzero(h) + ":" + Appendzero(m) + ":" + Appendzero(s) + "";
        function Appendzero(obj) {
          if (obj < 10) return "0" + "" + obj;
          else return obj;
        }
        t = setTimeout(time, 1000); //设定定时器，循环运行     
      }

    </script>

  </div>
  <div class="mainbox">
    <ul class="clearfix">
      <li>
        <div class="boxall" style="height: calc(40% - .15rem)">
          <div class="alltitle">基础数据 </div>
          <div class="sycm sycm1">
            <ul class="clearfix">
              <li>
                <h2>1468</h2>
                <span>国家层面政策（条）</span>
              </li>
              <li>
                <h2>11655</h2>
                <span>省级层面政策（条）</span>
              </li>
              <li>
                <h2>88</h2>
                <span>覆盖中央<br>政府部门（家）</span>
              </li>

              <li>
                <h2>1136</h2>
                <span>覆盖省级<br>政府部门（家）</span>
              </li>

              <li>
                <h2>8.5</h2>
                <span>政策横跨时间（年）</span>
              </li>
            </ul>
          </div>
          <div class="boxfoot"></div>
        </div>
        <div class="boxall" style="height: calc(60% - .15rem)">
          <div class="alltitle">部门协同网络</div>
          <div class="boxnav" id="network"></div>
          <div class="boxfoot"></div>
        </div>

      </li>
      <li id="province-dimension">
        <div style="position: relative">
          <div class="barnav">

            <div class="bar">
              <div class="barbox" style="border: none;">
                <ul class="clearfix" style="text-align: center;">
                  <li style="float: none; display: inline-block; font-size: 16px;">省级维度</li>
                </ul>
              </div>
              <div class="barbox2" style="border: none;">
                <ul class="clearfix" style="text-align: center;">

                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="mapbox">
          <div class="map">
            <div class="map1"><img src="images/lbx.png"></div>
            <div class="map2"><img src="images/jt.png"></div>
            <div class="map3"><img src="images/map.png"></div>
            <div class="map4" id="map_1"></div>
          </div>
        </div>
      </li>
      <li>

        <div class="boxall" id="department-dimension" style="height: calc(50% - .15rem)">
          <div class="alltitle">部门维度
            <div class="pulll_right sebtn department-btn">
              <a href="javascript:void(0)" class="active" onclick="switchDepartmentView('2019')">2019</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2020')">2020</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2021')">2021</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2022')">2022</a>
              <a href="javascript:void(0)" onclick="switchDepartmentView('2023')">2023</a>
            </div>
          </div>

          <div class="boxnav" id="echart3"></div>

          <div class="boxfoot"></div>
        </div>
        <div class="boxall" id="action-dimension" style="height: calc(50% - .15rem)">
          <div class="alltitle">行动维度
            <div class="pulll_right sebtn action-btn-container"
              style="width: 300px; overflow-x: auto; white-space: nowrap;">
              <div class="action-btn" style="display: inline-flex;">
                <a href="javascript:void(0)" class="active" onclick="switchActionView('2016')">2016</a>
                <a href="javascript:void(0)" onclick="switchActionView('2017')">2017</a>
                <a href="javascript:void(0)" onclick="switchActionView('2018')">2018</a>
                <a href="javascript:void(0)" onclick="switchActionView('2019')">2019</a>
                <a href="javascript:void(0)" onclick="switchActionView('2020')">2020</a>
                <a href="javascript:void(0)" onclick="switchActionView('2021')">2021</a>
                <a href="javascript:void(0)" onclick="switchActionView('2022')">2022</a>
                <a href="javascript:void(0)" onclick="switchActionView('2023')">2023</a>
              </div>
            </div>
          </div>
          <div class="boxnav" id="echart5"></div>
          <div class="boxfoot"></div>
        </div>
      </li>
    </ul>
    <div class="copyright">中国人民大学国家治理大数据和人工智能创新平台健康与医改政策子实验室</div>
  </div>

  <div class="mainbox2">
    <ul class="clearfix">
      <li>

        <div class="boxall" style="height: 100%">
          <div class="alltitle">评价指标
            <!-- <div class="pulll_right">
              <a href="javascript:void(0)" class="active">健康中国政策体系</a>
            </div> -->
          </div>
          <!-- <div class="boxnav" id="policyTree"></div> -->
          <div class="boxnav">
            <ul class="btbox">
              <li id="bt01"></li>
              <li id="bt02"></li>
              <li id="bt03"></li>
              <!-- <li id="bt04"></li> -->
            </ul>
          </div>
          <div class="boxfoot"></div>
        </div>

      </li>
      <li>
        <div class="boxall" id="central-dimension" style="height:100%">
          <div class="alltitle">中央维度
            <div class="pulll_right sebtn central-btn">
              <a href="javascript:void(0)" class="active" onclick="switchCentralView('健康中国建设发展指数')">健康中国建设发展指数</a>
              <a href="javascript:void(0)" onclick="switchCentralView('政策数量')">政策数量</a>
              <a href="javascript:void(0)" onclick="switchCentralView('政策质量')">政策质量</a>
              <a href="javascript:void(0)" onclick="switchCentralView('政策网络')">政策网络</a>
            </div>
          </div>
          <div class="boxnav" id="echart4" style="width: 100%; height: 200px;"></div>
          <div class="boxfoot"></div>
        </div>
      </li>

    </ul>
  </div>

  <script language="JavaScript" src="js/js.js"></script>
  <script type="text/javascript" src="js/echarts.min.js"></script>
  <script type="text/javascript" src="js/china.js"></script>
  <script type="text/javascript" src="js/area_echarts.js"></script>
  <script src="js/jquery.liMarquee.js"></script>
  <script>
    $(function () {
      $('.wrap,.adduser').liMarquee({
        direction: 'up',//身上滚动 
        runshort: false,//内不足时不滚动
        scrollamount: 20//速度
      });
    });

  </script>
  <!-- <meta http-equiv="refresh" content="50;url='https://blog.csdn.net/qq_31766533/article/details/119274641'"> -->

  <script type="text/javascript">
    $('.counter').countUp();
  </script>

  <script>
    var myChart = null;

    // 数据定义 - 确保包含所有年份
    var data = [
      { "年份": "2016年", "健康中国建设发展测度指数": 41.9978584275, "政策数量": 24.2529053219, "政策质量": 49.548572971, "政策网络": 59.8673247292, "防控重大疾病": 13, "全方位干预健康影响因素": 36, "维护全生命周期健康": 16, "当年完成率": 25.6661991585, "总体完成率": 91.0939691445, "平均完成月数": 31.9817036354, "发文联合率": 28, "平均协作规模": 2.5066666667, "参与部门": 45 },
      { "年份": "2017年", "健康中国建设发展测度指数": 39.1809892548, "政策数量": 28.0691106009, "政策质量": 61.1064357826, "政策网络": 44.9190013932, "防控重大疾病": 17, "全方位干预健康影响因素": 41, "维护全生命周期健康": 15, "当年完成率": 40.252454418, "总体完成率": 90.7433380084, "平均完成月数": 25.4508338657, "发文联合率": 27.9069767442, "平均协作规模": 1.8372093023, "参与部门": 36 },
      { "年份": "2018年", "健康中国建设发展测度指数": 44.569907586, "政策数量": 30.1833758144, "政策质量": 61.1064357826, "政策网络": 56.5327288563, "防控重大疾病": 17, "全方位干预健康影响因素": 46, "维护全生命周期健康": 17, "当年完成率": 40.252454418, "总体完成率": 90.7433380084, "平均完成月数": 25.4508338657, "发文联合率": 34.7826086957, "平均协作规模": 1.9891304348, "参与部门": 48 },
      { "年份": "2019年", "健康中国建设发展测度指数": 58.1998540941, "政策数量": 54.1496466337, "政策质量": 61.3240866555, "政策网络": 64.3206112561, "防控重大疾病": 33, "全方位干预健康影响因素": 58, "维护全生命周期健康": 49, "当年完成率": 43.9759036145, "总体完成率": 77.7108433735, "平均完成月数": 14.976744186, "发文联合率": 30, "平均协作规模": 2.34375, "参与部门": 59 },
      { "年份": "2020年", "健康中国建设发展测度指数": 71.8425803002, "政策数量": 93.0057470726, "政策质量": 73.8645356701, "政策网络": 57.8925584476, "防控重大疾病": 75, "全方位干预健康影响因素": 73, "维护全生命周期健康": 71, "当年完成率": 59.2760180995, "总体完成率": 80.5429864253, "平均完成月数": 11.191011236, "发文联合率": 30.303030303, "平均协作规模": 1.8917748918, "参与部门": 61 },
      { "年份": "2021年", "健康中国建设发展测度指数": 67.3875817514, "政策数量": 73.8936942405, "政策质量": 84.9304809287, "政策网络": 61.9930132046, "防控重大疾病": 43, "全方位干预健康影响因素": 67, "维护全生命周期健康": 83, "当年完成率": 65.1515151515, "总体完成率": 96.9696969697, "平均完成月数": 9.84375, "发文联合率": 29.8165137615, "平均协作规模": 2.1055045872, "参与部门": 63 },
      { "年份": "2022年", "健康中国建设发展测度指数": 68.0808548686, "政策数量": 75.4343704986, "政策质量": 92.5848505098, "政策网络": 62.1521907227, "防控重大疾病": 39, "全方位干预健康影响因素": 84, "维护全生命周期健康": 80, "当年完成率": 77.9411764706, "总体完成率": 92.6470588235, "平均完成月数": 6.9841269841, "发文联合率": 32.2033898305, "平均协作规模": 2.1610169492, "参与部门": 58 },
      { "年份": "2023年", "健康中国建设发展测度指数": 81.5569409048, "政策数量": 81.9258155176, "政策质量": 97.3474325483, "政策网络": 77.4844711643, "防控重大疾病": 59, "全方位干预健康影响因素": 68, "维护全生命周期健康": 74, "当年完成率": 84.0579710145, "总体完成率": 92.7536231884, "平均完成月数": 4.890625, "发文联合率": 41.5637860082, "平均协作规模": 2.658436214, "参与部门": 62 }
    ];

    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化图表实例
      myChart = echarts.init(document.getElementById('echart4'));

      // 将 switchCentralView 函数暴露到全局作用域
      window.switchCentralView = switchCentralView;

      // 初始显示健康中国建设发展指数
      switchCentralView('健康中国建设发展指数');

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (myChart) {
          myChart.resize();
        }
      });
    });

    function getOption(type) {
      const dataKey = type === '健康中国建设发展指数' ? '健康中国建设发展测度指数' : type;
      const seriesData = data.map(item => item[dataKey]);
      const years = data.map(item => item["年份"]);

      return {
        title: {
          text: type,
          textStyle: {
            color: '#fff',
            fontSize: '16'
          },
          left: 'center',
          top: '2%'
        },
        grid: {
          top: '15%',
          left: '3%',
          right: '4%',
          bottom: '10%',
          containLabel: true
        },
        tooltip: {
          trigger: 'axis',
          axisPointer: {
            type: 'cross',
            label: {
              backgroundColor: '#6a7985'
            }
          },
          formatter: function (params) {
            const year = params[0].name;
            const value = params[0].value;
            const thisYearData = data.find(item => item["年份"] === year);

            // 更新全局变量
            window.currentCentralHoveredData = {
              year: year,
              value: value,
              type: type
            };

            // 更新评估指标
            if (type === '健康中国建设发展指数') {
              window.updateBt01("政策数量", thisYearData["政策数量"]);
              window.updateBt02("政策质量", thisYearData["政策质量"]);
              window.updateBt03("政策网络", thisYearData["政策网络"]);
            } else if (type === '政策数量') {
              window.updateBt01("全方位干预健康影响因素领域\n发文量（件）", thisYearData["全方位干预健康影响因素"], 85);
              window.updateBt02("维护全生命周期健康领域\n发文量（件）", thisYearData["维护全生命周期健康"], 84);
              window.updateBt03("防控重大疾病领域\n发文量（件）", thisYearData["防控重大疾病"], 76);
            } else if (type === '政策质量') {
              window.updateBt01("当年完成率（%）", thisYearData["当年完成率"]);
              window.updateBt02("总体完成率（%）", thisYearData["总体完成率"]);
              window.updateBt03("平均完成月数（月）", thisYearData["平均完成月数"], 32);
            } else if (type === '政策网络') {
              window.updateBt01("参与部门数量（家）", thisYearData["参与部门"], 64);
              window.updateBt02("平均协作规模（家/件）", thisYearData["平均协作规模"], 3);
              window.updateBt03("联合发文率（%）", thisYearData["发文联合率"]);
            } else {
              window.updateBt01(type, value);
              window.updateBt02(type, value);
              window.updateBt03(type, value);
            }
            const yearData = data.find(item => item["年份"] === year);
            let content = `${year}<br/>`;
            content += `${params[0].seriesName}: ${params[0].value.toFixed(2)}<br/>`;

            if (type === '政策数量') {
              content += `防控重大疾病: ${yearData["防控重大疾病"]}件<br/>`;
              content += `全方位干预健康影响因素: ${yearData["全方位干预健康影响因素"]}件<br/>`;
              content += `维护全生命周期健康: ${yearData["维护全生命周期健康"]}件<br/>`;
            }

            if (type === '政策质量') {
              content += `当年完成率: ${yearData["当年完成率"].toFixed(2)}%<br/>`;
              content += `总体完成率: ${yearData["总体完成率"].toFixed(2)}%<br/>`;
              content += `平均完成月数: ${yearData["平均完成月数"].toFixed(2)}月<br/>`;
            }

            if (type === '政策网络') {
              content += `发文联合率: ${yearData["发文联合率"].toFixed(2)}%<br/>`;
              content += `平均协作规模: ${yearData["平均协作规模"].toFixed(2)}<br/>`;
              content += `参与部门: ${yearData["参与部门"]}`;
            }

            return content;
          }
        },
        legend: {
          data: [type],
          textStyle: {
            color: 'rgba(255,255,255,.6)'
          },
          top: '5%',
          right: '3%'
        },
        xAxis: {
          type: 'category',
          data: years,
          axisLabel: {
            show: true,
            interval: 0,
            color: 'rgba(255,255,255,.6)',
            rotate: 45
          },
          axisLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.2)'
            }
          },
          axisTick: {
            alignWithLabel: true
          }
        },
        yAxis: {
          type: 'value',
          name: type === '健康中国建设发展指数' ? '指数' : '数值',
          nameTextStyle: {
            color: 'rgba(255,255,255,.6)'
          },
          axisLabel: {
            color: 'rgba(255,255,255,.6)'
          },
          axisLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.2)'
            }
          },
          splitLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.1)',
              type: 'dashed'
            }
          }
        },
        series: [{
          name: type,
          type: 'line',
          data: seriesData,
          smooth: true,
          symbol: 'circle',
          symbolSize: 8,
          itemStyle: {
            color: '#62c98d',
            borderWidth: 2,
            borderColor: '#fff'
          },
          lineStyle: {
            color: '#62c98d',
            width: 2
          },
          areaStyle: {
            color: {
              type: 'linear',
              x: 0,
              y: 0,
              x2: 0,
              y2: 1,
              colorStops: [{
                offset: 0,
                color: 'rgba(98,201,141,0.5)'
              }, {
                offset: 1,
                color: 'rgba(98,201,141,0.1)'
              }]
            }
          }
        }]
      };
    }

    function switchCentralView(type) {
      // 更新按钮状态，只选择中央维度的按钮
      $('.central-btn a').each(function () {
        $(this).removeClass('active');
        if ($(this).text() === type) {
          $(this).addClass('active');
        }
      });

      // 更新图表
      if (myChart) {
        myChart.clear();
        myChart.setOption(getOption(type));
      }

      // 根据不同类型更新饼图
      if (type === '政策数量') {
        // 使用全局函数
        window.updateBt01('全方位干预健康影响因素领域\n发文量（件）', 0, 100);
        window.updateBt02('维护全生命周期健康领域\n发文量（件）', 0, 100);
        window.updateBt03('防控重大疾病领域\n发文量（件）', 0, 100);
      } else if (type === '政策质量') {
        window.updateBt01('当年完成率（%）', 0, 100);
        window.updateBt02('总体完成率（%）', 0, 100);
        window.updateBt03('平均发文月数（月）', 0, 12);
      } else if (type === '政策网络') {
        window.updateBt01('参与部门数量（家）', 0, 100);
        window.updateBt02('平均协作规模（家/件）', 0, 5);
        window.updateBt03('联合发文率（%）', 0, 100);
      } else {
        window.updateBt01('政策数量', 0, 100);
        window.updateBt02('政策质量', 0, 100);
        window.updateBt03('政策网络', 0, 100);
      }
    }
  </script>

  <script>
    var departmentChart = null;
    var spNum = 10;

    const departmentData = {
      '2019': [
        {
          name: '国家卫生健康委员会',
          value: 46.91,
          yearData: {
            "政策数量": 55.00,
            "政策质量": 40.03,
            "政策网络": 16.45
          }
        },
        {
          name: '国家市场监督管理总局',
          value: 26.94,
          yearData: {
            "政策数量": 8.08,
            "政策质量": 93.86,
            "政策网络": 43.14
          }
        },
        {
          name: '人力资源和社会保障部',
          value: 26.74,
          yearData: {
            "政策数量": 4.51,
            "政策质量": 84.55,
            "政策网络": 49.70
          }
        },
        {
          name: '科学技术部',
          value: 26.51,
          yearData: {
            "政策数量": 2.82,
            "政策质量": 83.94,
            "政策网络": 49.56
          }
        },
        {
          name: '国务院扶贫开发领导小组办公室',
          value: 26.32,
          yearData: {
            "政策数量": 1.82,
            "政策质量": 83.63,
            "政策网络": 48.42
          }
        },
        {
          name: '中华全国总工会',
          value: 26.31,
          yearData: {
            "政策数量": 2.72,
            "政策质量": 83.63,
            "政策网络": 47.35
          }
        },
        {
          name: '海关总署',
          value: 26.23,
          yearData: {
            "政策数量": 0.36,
            "政策质量": 13.91,
            "政策网络": 55.53
          }
        },
        {
          name: '财政部',
          value: 26.10,
          yearData: {
            "政策数量": 6.68,
            "政策质量": 53.09,
            "政策网络": 51.20
          }
        },
        {
          name: '国家民族事务委员会',
          value: 26.05,
          yearData: {
            "政策数量": 0.16,
            "政策质量": 84.25,
            "政策网络": 48.85
          }
        },
        {
          name: '住房和城乡建设部',
          value: 25.99,
          yearData: {
            "政策数量": 0.91,
            "政策质量": 21.59,
            "政策网络": 61.17
          }
        }
      ],
      '2020': [
        {
          name: '国家卫生健康委员会',
          value: 54.14,
          yearData: {
            "政策数量": 66.85,
            "政策质量": 53.31,
            "政策网络": 14.36
          }
        },
        {
          name: '中央宣传部',
          value: 28.84,
          yearData: {
            "政策数量": 1.44,
            "政策质量": 76.21,
            "政策网络": 64.19
          }
        },
        {
          name: '国家信访局',
          value: 28.65,
          yearData: {
            "政策数量": 0.36,
            "政策质量": 85.17,
            "政策网络": 61.24
          }
        },
        {
          name: '中央网络安全和信息化委员会办',
          value: 27.32,
          yearData: {
            "政策数量": 0.64,
            "政策质量": 82.89,
            "政策网络": 56.22
          }
        },
        {
          name: '财政部',
          value: 27.05,
          yearData: {
            "政策数量": 6.40,
            "政策质量": 85.17,
            "政策网络": 45.71
          }
        },
        {
          name: '公安部',
          value: 26.92,
          yearData: {
            "政策数量": 3.82,
            "政策质量": 83.94,
            "政策网络": 49.23
          }
        },
        {
          name: '中央政法委员会',
          value: 26.92,
          yearData: {
            "政策数量": 0.35,
            "政策质量": 83.94,
            "政策网络": 54.06
          }
        },
        {
          name: '国务院扶贫开发领导小组办公室',
          value: 26.91,
          yearData: {
            "政策数量": 0.79,
            "政策质量": 85.17,
            "政策网络": 52.82
          }
        },
        {
          name: '民政部',
          value: 26.61,
          yearData: {
            "政策数量": 10.77,
            "政策质量": 83.35,
            "政策网络": 38.74
          }
        },
        {
          name: '司法部',
          value: 26.54,
          yearData: {
            "政策数量": 1.13,
            "政策质量": 71.10,
            "政策网络": 56.56
          }
        }
      ],
      '2021': [
        {
          name: '国家卫生健康委员会',
          value: 52.98,
          yearData: {
            "政策数量": 63.90,
            "政策质量": 59.85,
            "政策网络": 15.11
          }
        },
        {
          name: '中华全国总工会',
          value: 28.36,
          yearData: {
            "政策数量": 2.97,
            "政策质量": 85.17,
            "政策网络": 54.75
          }
        },
        {
          name: '人力资源和社会保障部',
          value: 27.72,
          yearData: {
            "政策数量": 4.85,
            "政策质量": 85.17,
            "政策网络": 52.14
          }
        },
        {
          name: '财政部',
          value: 27.53,
          yearData: {
            "政策数量": 7.82,
            "政策质量": 85.17,
            "政策网络": 46.23
          }
        },
        {
          name: '科学技术部',
          value: 27.23,
          yearData: {
            "政策数量": 1.20,
            "政策质量": 84.55,
            "政策网络": 52.87
          }
        },
        {
          name: '中央政法委员会',
          value: 27.06,
          yearData: {
            "政策数量": 0.92,
            "政策质量": 85.17,
            "政策网络": 53.68
          }
        },
        {
          name: '中华全国妇女联合会',
          value: 27.01,
          yearData: {
            "政策数量": 2.40,
            "政策质量": 84.25,
            "政策网络": 51.71
          }
        },
        {
          name: '中央宣传部',
          value: 26.68,
          yearData: {
            "政策数量": 3.01,
            "政策质量": 57.42,
            "政策网络": 57.24
          }
        },
        {
          name: '民政部',
          value: 26.50,
          yearData: {
            "政策数量": 10.66,
            "政策质量": 85.07,
            "政策网络": 37.94
          }
        },
        {
          name: '住房和城乡建设部',
          value: 26.26,
          yearData: {
            "政策数量": 3.64,
            "政策质量": 83.33,
            "政策网络": 49.40
          }
        }
      ],
      '2022': [
        {
          name: '国家卫生健康委员会',
          value: 52.67,
          yearData: {
            "政策数量": 62.12,
            "政策质量": 69.48,
            "政策网络": 17.11
          }
        },
        {
          name: '中央政法委员会',
          value: 32.92,
          yearData: {
            "政策数量": 0.00,
            "政策质量": 85.78,
            "政策网络": 82.22
          }
        },
        {
          name: '中央宣传部',
          value: 29.60,
          yearData: {
            "政策数量": 1.15,
            "政策质量": 84.34,
            "政策网络": 67.19
          }
        },
        {
          name: '中国民用航空局',
          value: 28.88,
          yearData: {
            "政策数量": 0.80,
            "政策质量": 84.25,
            "政策网络": 64.14
          }
        },
        {
          name: '国家铁路局',
          value: 28.70,
          yearData: {
            "政策数量": 0.56,
            "政策质量": 84.25,
            "政策网络": 63.69
          }
        },
        {
          name: '国家广播电视总局',
          value: 28.19,
          yearData: {
            "政策数量": 3.14,
            "政策质量": 84.25,
            "政策网络": 59.04
          }
        },
        {
          name: '工业和信息化部',
          value: 27.73,
          yearData: {
            "政策数量": 4.45,
            "政策质量": 85.32,
            "政策网络": 53.53
          }
        },
        {
          name: '交通运输部',
          value: 27.52,
          yearData: {
            "政策数量": 1.68,
            "政策质量": 84.25,
            "政策网络": 57.54
          }
        },
        {
          name: '文化和旅游部',
          value: 27.09,
          yearData: {
            "政策数量": 2.15,
            "政策质量": 84.25,
            "政策网络": 53.96
          }
        },
        {
          name: '中华全国妇女联合会',
          value: 26.92,
          yearData: {
            "政策数量": 1.95,
            "政策质量": 83.79,
            "政策网络": 55.79
          }
        }
      ],
      '2023': [
        {
          name: '国家卫生健康委员会',
          value: 69.75,
          yearData: {
            "政策数量": 100.00,
            "政策质量": 76.33,
            "政策网络": 17.88
          }
        },
        {
          name: '国家铁路局',
          value: 31.16,
          yearData: {
            "政策数量": 0.16,
            "政策质量": 84.86,
            "政策网络": 75.28
          }
        },
        {
          name: '中国国家铁路集团有限公司',
          value: 31.16,
          yearData: {
            "政策数量": 0.16,
            "政策质量": 84.86,
            "政策网络": 75.28
          }
        },
        {
          name: '中国民用航空局',
          value: 31.11,
          yearData: {
            "政策数量": 0.27,
            "政策质量": 84.86,
            "政策网络": 74.87
          }
        },
        {
          name: '民政部',
          value: 29.47,
          yearData: {
            "政策数量": 14.61,
            "政策质量": 84.48,
            "政策网络": 45.17
          }
        },
        {
          name: '中央宣传部',
          value: 28.85,
          yearData: {
            "政策数量": 1.86,
            "政策质量": 84.86,
            "政策网络": 59.60
          }
        },
        {
          name: '教育部',
          value: 28.74,
          yearData: {
            "政策数量": 20.10,
            "政策质量": 78.27,
            "政策网络": 34.49
          }
        },
        {
          name: '科学技术部',
          value: 28.52,
          yearData: {
            "政策数量": 6.63,
            "政策质量": 84.86,
            "政策网络": 54.58
          }
        },
        {
          name: '中华全国总工会',
          value: 28.14,
          yearData: {
            "政策数量": 4.94,
            "政策质量": 84.25,
            "政策网络": 52.36
          }
        },
        {
          name: '交通运输部',
          value: 28.06,
          yearData: {
            "政策数量": 2.03,
            "政策质量": 84.86,
            "政策网络": 57.62
          }
        }
      ]
    };


    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化图表实例
      departmentChart = echarts.init(document.getElementById('echart3'));

      // 初始显示2019年数据
      switchDepartmentView('2019');

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (departmentChart) {
          departmentChart.resize();
        }
      });
    });

    function getDepartmentOption(year) {
      // 获取当前年份的部门名称数组
      const y_data = departmentData[year].map(item => item.name);

      return {
        grid: {
          containLabel: true,
          top: 10,
          left: 0,
          right: -150,
          bottom: 0
        },
        tooltip: {
          show: true,
          formatter: function (params) {
            const yearData = departmentData[year].find(item => item.name === params.name).yearData;
            window.updateBt01('政策数量', yearData["政策数量"]);
            window.updateBt02('政策质量', yearData["政策质量"]);
            window.updateBt03('政策网络', yearData["政策网络"]);
            if (params.name == '国务院扶贫开发领导小组办公室') {
              return '国务院扶贫开发<br/>领导小组办公室<br/>' + params.seriesName + ':' + params.value.toFixed(2)
            }
            if (params.name == '中央网络安全和信息化委员会办') {
              return '中央网络安全<br/>和信息化委员会办<br/>' + params.seriesName + ':' + params.value.toFixed(2)
            }
            return params.name + '<br/>' + params.seriesName + ':' + params.value.toFixed(2)
          }
        },
        xAxis: {
          splitNumber: spNum,
          // max: Math.max(...departmentData[year].map(item => Math.log(item.value - Math.min(...departmentData[year].map(i => i.value)) + 1)) + 2),
          max: Math.max(...departmentData[year].map(item => item.value)) + 5,
          axisLabel: {
            show: false,
            formatter: function (params) {
              const department = departmentData[year].find(item => item.name === params.name);
              return department ? department.value.toFixed(2) : '';
            }
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        },
        yAxis: [{
          data: y_data,
          inverse: true,
          axisLabel: {
            fontSize: 12,
            color: 'rgba(255,255,255,.6)'
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        }, {
          show: false,
          data: y_data,
          axisLine: { show: false }
        }],
        series: [{
          type: 'bar',
          name: '健康中国建设发展指数',
          label: {
            normal: {
              show: true,
              position: 'inside',
              formatter: function (params) {
                const department = departmentData[year].find(item => item.name === params.name);
                return department ? department.value.toFixed(2) : '';
              },
              textStyle: {
                color: '#fff',
                fontSize: 12
              }
            }
          },
          barWidth: '75%',
          itemStyle: {
            normal: { color: '#58c485' },
            emphasis: { color: '#ea7231' }
          },
          data: departmentData[year].map(item => item.value)
          // data: departmentData[year].map(item => Math.log(item.value - Math.min(...departmentData[year].map(i => i.value)) + 1) + 2)
        }]
      };
    }

    function switchDepartmentView(year) {
      // 更新按钮状态，只选择部门维度的按钮
      $('.department-btn a').each(function () {
        $(this).removeClass('active');
        if ($(this).text() === year) {
          $(this).addClass('active');
        }
      });

      // 更新图表
      if (departmentChart) {
        departmentChart.clear();
        departmentChart.setOption(getDepartmentOption(year));
      }

      window.updateBt01('政策数量', 0);
      window.updateBt02('政策质量', 0);
      window.updateBt03('政策网络', 0);
    }

    // 将函数暴露到全局作用域
    window.switchDepartmentView = switchDepartmentView;
  </script>

  <script>
    var actionChart = null;

    // 定义行动维度的数据
    const actionData = {
      '2016': [
        {
          name: '老年健康促进行动',
          value: 47.55,
          yearData: {
            "政策数量": 11.11,
            "政策质量": 32.33,
            "政策网络": 61.88
          }
        },
        {
          name: '健康知识普及行动',
          value: 34.17,
          yearData: {
            "政策数量": 11.18,
            "政策质量": 48.26,
            "政策网络": 33.78
          }
        },
        {
          name: '职业健康保护行动',
          value: 31.78,
          yearData: {
            "政策数量": 15.00,
            "政策质量": 29.61,
            "政策网络": 32.93
          }
        },
        {
          name: '全民健身行动',
          value: 31.00,
          yearData: {
            "政策数量": 21.13,
            "政策质量": 42.75,
            "政策网络": 17.10
          }
        },
        {
          name: '糖尿病防治行动',
          value: 26.76,
          yearData: {
            "政策数量": 2.79,
            "政策质量": 32.47,
            "政策网络": 34.60
          }
        },
        {
          name: '健康环境促进行动',
          value: 26.37,
          yearData: {
            "政策数量": 22.73,
            "政策质量": 28.42,
            "政策网络": 21.14
          }
        },
        {
          name: '控烟行动',
          value: 24.58,
          yearData: {
            "政策数量": 1.75,
            "政策质量": 21.21,
            "政策网络": 31.32
          }
        },
        {
          name: '合理膳食行动',
          value: 23.21,
          yearData: {
            "政策数量": 8.40,
            "政策质量": 49.18,
            "政策网络": 14.91
          }
        },
        {
          name: '传染病及地方病防控行动',
          value: 21.82,
          yearData: {
            "政策数量": 13.66,
            "政策质量": 34.37,
            "政策网络": 17.31
          }
        },
        {
          name: '癌症防治行动',
          value: 21.10,
          yearData: {
            "政策数量": 6.88,
            "政策质量": 36.52,
            "政策网络": 14.36
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 19.62,
          yearData: {
            "政策数量": 0.00,
            "政策质量": 47.19,
            "政策网络": 0.00
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 19.58,
          yearData: {
            "政策数量": 11.89,
            "政策质量": 32.58,
            "政策网络": 10.16
          }
        },
        {
          name: '心理健康促进行动',
          value: 19.43,
          yearData: {
            "政策数量": 3.75,
            "政策质量": 37.04,
            "政策网络": 14.07
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 18.18,
          yearData: {
            "政策数量": 2.84,
            "政策质量": 28.73,
            "政策网络": 18.14
          }
        },
        {
          name: '中小学健康促进行动',
          value: 17.28,
          yearData: {
            "政策数量": 4.96,
            "政策质量": 22.91,
            "政策网络": 10.23
          }
        }
      ],
      '2017': [
        {
          name: '心理健康促进行动',
          value: 44.48,
          yearData: {
            "政策数量": 6.35,
            "政策质量": 42.63,
            "政策网络": 50.19
          }
        },
        {
          name: '老年健康促进行动',
          value: 38.25,
          yearData: {
            "政策数量": 21.32,
            "政策质量": 46.40,
            "政策网络": 44.20
          }
        },
        {
          name: '健康知识普及行动',
          value: 37.07,
          yearData: {
            "政策数量": 21.04,
            "政策质量": 53.52,
            "政策网络": 40.08
          }
        },
        {
          name: '传染病及地方病防控行动',
          value: 36.46,
          yearData: {
            "政策数量": 33.08,
            "政策质量": 64.34,
            "政策网络": 28.09
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 35.19,
          yearData: {
            "政策数量": 2.48,
            "政策质量": 82.56,
            "政策网络": 32.55
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 29.52,
          yearData: {
            "政策数量": 12.43,
            "政策质量": 40.73,
            "政策网络": 32.47
          }
        },
        {
          name: '合理膳食行动',
          value: 29.00,
          yearData: {
            "政策数量": 15.47,
            "政策质量": 64.76,
            "政策网络": 19.84
          }
        },
        {
          name: '控烟行动',
          value: 27.66,
          yearData: {
            "政策数量": 3.38,
            "政策质量": 39.99,
            "政策网络": 32.90
          }
        },
        {
          name: '癌症防治行动',
          value: 27.15,
          yearData: {
            "政策数量": 21.30,
            "政策质量": 55.47,
            "政策网络": 11.78
          }
        },
        {
          name: '糖尿病防治行动',
          value: 26.60,
          yearData: {
            "政策数量": 4.90,
            "政策质量": 53.47,
            "政策网络": 26.98
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 26.11,
          yearData: {
            "政策数量": 7.80,
            "政策质量": 44.99,
            "政策网络": 30.35
          }
        },
        {
          name: '全民健身行动',
          value: 22.97,
          yearData: {
            "政策数量": 13.37,
            "政策质量": 47.06,
            "政策网络": 16.54
          }
        },
        {
          name: '职业健康保护行动',
          value: 22.88,
          yearData: {
            "政策数量": 12.92,
            "政策质量": 39.18,
            "政策网络": 16.64
          }
        },
        {
          name: '健康环境促进行动',
          value: 22.24,
          yearData: {
            "政策数量": 26.23,
            "政策质量": 36.33,
            "政策网络": 12.20
          }
        },
        {
          name: '中小学健康促进行动',
          value: 22.31,
          yearData: {
            "政策数量": 10.10,
            "政策质量": 43.43,
            "政策网络": 15.63
          }
        }
      ],
      '2018': [
        {
          name: '健康知识普及行动',
          value: 46.85,
          yearData: {
            "政策数量": 28.28,
            "政策质量": 54.46,
            "政策网络": 48.94
          }
        },
        {
          name: '老年健康促进行动',
          value: 39.64,
          yearData: {
            "政策数量": 15.94,
            "政策质量": 49.33,
            "政策网络": 49.18
          }
        },
        {
          name: '合理膳食行动',
          value: 36.65,
          yearData: {
            "政策数量": 12.43,
            "政策质量": 78.70,
            "政策网络": 31.84
          }
        },
        {
          name: '控烟行动',
          value: 34.68,
          yearData: {
            "政策数量": 2.66,
            "政策质量": 37.45,
            "政策网络": 44.04
          }
        },
        {
          name: '中小学健康促进行动',
          value: 33.09,
          yearData: {
            "政策数量": 11.78,
            "政策质量": 59.27,
            "政策网络": 34.46
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 31.67,
          yearData: {
            "政策数量": 25.55,
            "政策质量": 46.92,
            "政策网络": 28.17
          }
        },
        {
          name: '传染病及地方病防控行动',
          value: 31.43,
          yearData: {
            "政策数量": 20.92,
            "政策质量": 39.54,
            "政策网络": 32.94
          }
        },
        {
          name: '健康环境促进行动',
          value: 30.94,
          yearData: {
            "政策数量": 38.10,
            "政策质量": 40.51,
            "政策网络": 19.54
          }
        },
        {
          name: '全民健身行动',
          value: 27.78,
          yearData: {
            "政策数量": 22.61,
            "政策质量": 50.26,
            "政策网络": 22.07
          }
        },
        {
          name: '心理健康促进行动',
          value: 23.38,
          yearData: {
            "政策数量": 5.19,
            "政策质量": 36.04,
            "政策网络": 23.88
          }
        },
        {
          name: '职业健康保护行动',
          value: 22.36,
          yearData: {
            "政策数量": 7.37,
            "政策质量": 32.99,
            "政策网络": 15.58
          }
        },
        {
          name: '癌症防治行动',
          value: 22.01,
          yearData: {
            "政策数量": 14.26,
            "政策质量": 44.81,
            "政策网络": 9.33
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 18.33,
          yearData: {
            "政策数量": 0.54,
            "政策质量": 44.05,
            "政策网络": 3.55
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 16.41,
          yearData: {
            "政策数量": 5.25,
            "政策质量": 37.82,
            "政策网络": 4.10
          }
        },
        {
          name: '糖尿病防治行动',
          value: 16.10,
          yearData: {
            "政策数量": 0.91,
            "政策质量": 38.40,
            "政策网络": 3.83
          }
        }
      ],
      '2019': [
        {
          name: '老年健康促进行动',
          value: 47.58,
          yearData: {
            "政策数量": 30.97,
            "政策质量": 53.64,
            "政策网络": 57.34
          }
        },
        {
          name: '健康知识普及行动',
          value: 45.62,
          yearData: {
            "政策数量": 23.45,
            "政策质量": 60.28,
            "政策网络": 46.03
          }
        },
        {
          name: '合理膳食行动',
          value: 44.48,
          yearData: {
            "政策数量": 25.53,
            "政策质量": 58.09,
            "政策网络": 44.85
          }
        },
        {
          name: '中小学健康促进行动',
          value: 43.80,
          yearData: {
            "政策数量": 18.85,
            "政策质量": 73.49,
            "政策网络": 57.17
          }
        },
        {
          name: '职业健康保护行动',
          value: 38.38,
          yearData: {
            "政策数量": 28.89,
            "政策质量": 58.95,
            "政策网络": 36.81
          }
        },
        {
          name: '传染病及地方病防控行动',
          value: 36.02,
          yearData: {
            "政策数量": 27.08,
            "政策质量": 58.00,
            "政策网络": 34.04
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 35.77,
          yearData: {
            "政策数量": 30.29,
            "政策质量": 59.08,
            "政策网络": 30.08
          }
        },
        {
          name: '心理健康促进行动',
          value: 35.64,
          yearData: {
            "政策数量": 5.14,
            "政策质量": 47.60,
            "政策网络": 46.52
          }
        },
        {
          name: '控烟行动',
          value: 33.85,
          yearData: {
            "政策数量": 5.75,
            "政策质量": 48.53,
            "政策网络": 41.27
          }
        },
        {
          name: '全民健身行动',
          value: 33.79,
          yearData: {
            "政策数量": 24.49,
            "政策质量": 63.86,
            "政策网络": 29.07
          }
        },
        {
          name: '癌症防治行动',
          value: 32.98,
          yearData: {
            "政策数量": 19.47,
            "政策质量": 61.30,
            "政策网络": 26.86
          }
        },
        {
          name: '健康环境促进行动',
          value: 28.10,
          yearData: {
            "政策数量": 26.07,
            "政策质量": 47.60,
            "政策网络": 20.12
          }
        },
        {
          name: '糖尿病防治行动',
          value: 27.34,
          yearData: {
            "政策数量": 5.08,
            "政策质量": 42.95,
            "政策网络": 33.88
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 21.00,
          yearData: {
            "政策数量": 8.95,
            "政策质量": 47.21,
            "政策网络": 11.23
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 16.94,
          yearData: {
            "政策数量": 1.75,
            "政策质量": 38.71,
            "政策网络": 3.55
          }
        }
      ],
      '2020': [
        {
          name: '老年健康促进行动',
          value: 61.94,
          yearData: {
            "政策数量": 60.19,
            "政策质量": 69.81,
            "政策网络": 60.37
          }
        },
        {
          name: '传染病及地方病防控行动',
          value: 53.97,
          yearData: {
            "政策数量": 100.00,
            "政策质量": 64.32,
            "政策网络": 31.08
          }
        },
        {
          name: '健康知识普及行动',
          value: 40.75,
          yearData: {
            "政策数量": 27.34,
            "政策质量": 66.17,
            "政策网络": 28.37
          }
        },
        {
          name: '心理健康促进行动',
          value: 38.67,
          yearData: {
            "政策数量": 17.78,
            "政策质量": 71.05,
            "政策网络": 41.83
          }
        },
        {
          name: '控烟行动',
          value: 37.19,
          yearData: {
            "政策数量": 10.11,
            "政策质量": 66.18,
            "政策网络": 40.30
          }
        },
        {
          name: '职业健康保护行动',
          value: 36.77,
          yearData: {
            "政策数量": 24.84,
            "政策质量": 66.35,
            "政策网络": 33.93
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 36.06,
          yearData: {
            "政策数量": 32.17,
            "政策质量": 59.50,
            "政策网络": 29.23
          }
        },
        {
          name: '健康环境促进行动',
          value: 35.70,
          yearData: {
            "政策数量": 32.73,
            "政策质量": 54.53,
            "政策网络": 22.55
          }
        },
        {
          name: '合理膳食行动',
          value: 33.91,
          yearData: {
            "政策数量": 25.76,
            "政策质量": 74.13,
            "政策网络": 24.30
          }
        },
        {
          name: '全民健身行动',
          value: 33.64,
          yearData: {
            "政策数量": 21.76,
            "政策质量": 74.04,
            "政策网络": 20.47
          }
        },
        {
          name: '中小学健康促进行动',
          value: 33.42,
          yearData: {
            "政策数量": 19.73,
            "政策质量": 55.11,
            "政策网络": 26.37
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 28.99,
          yearData: {
            "政策数量": 12.71,
            "政策质量": 49.97,
            "政策网络": 20.92
          }
        },
        {
          name: '癌症防治行动',
          value: 26.76,
          yearData: {
            "政策数量": 17.15,
            "政策质量": 57.05,
            "政策网络": 17.39
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 22.27,
          yearData: {
            "政策数量": 0.36,
            "政策质量": 58.97,
            "政策网络": 3.55
          }
        },
        {
          name: '糖尿病防治行动',
          value: 19.50,
          yearData: {
            "政策数量": 3.82,
            "政策质量": 48.05,
            "政策网络": 3.83
          }
        }
      ],
      '2021': [
        {
          name: '健康知识普及行动',
          value: 52.82,
          yearData: {
            "政策数量": 35.91,
            "政策质量": 77.93,
            "政策网络": 45.30
          }
        },
        {
          name: '老年健康促进行动',
          value: 50.36,
          yearData: {
            "政策数量": 62.86,
            "政策质量": 56.15,
            "政策网络": 45.74
          }
        },
        {
          name: '健康环境促进行动',
          value: 49.74,
          yearData: {
            "政策数量": 38.03,
            "政策质量": 72.77,
            "政策网络": 38.21
          }
        },
        {
          name: '心理健康促进行动',
          value: 44.17,
          yearData: {
            "政策数量": 11.92,
            "政策质量": 70.61,
            "政策网络": 53.57
          }
        },
        {
          name: '职业健康保护行动',
          value: 44.08,
          yearData: {
            "政策数量": 34.92,
            "政策质量": 69.38,
            "政策网络": 40.86
          }
        },
        {
          name: '中小学健康促进行动',
          value: 43.66,
          yearData: {
            "政策数量": 41.47,
            "政策质量": 77.05,
            "政策网络": 33.08
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 43.62,
          yearData: {
            "政策数量": 43.53,
            "政策质量": 63.15,
            "政策网络": 32.74
          }
        },
        {
          name: '全民健身行动',
          value: 40.40,
          yearData: {
            "政策数量": 31.16,
            "政策质量": 87.17,
            "政策网络": 27.18
          }
        },
        {
          name: '合理膳食行动',
          value: 36.86,
          yearData: {
            "政策数量": 27.82,
            "政策质量": 88.32,
            "政策网络": 21.52
          }
        },
        {
          name: '传染病及地方病防控行动',
          value: 36.18,
          yearData: {
            "政策数量": 42.47,
            "政策质量": 67.16,
            "政策网络": 21.25
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 33.63,
          yearData: {
            "政策数量": 10.47,
            "政策质量": 50.48,
            "政策网络": 41.45
          }
        },
        {
          name: '控烟行动',
          value: 32.67,
          yearData: {
            "政策数量": 9.61,
            "政策质量": 76.50,
            "政策网络": 25.08
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 26.53,
          yearData: {
            "政策数量": 0.36,
            "政策质量": 71.58,
            "政策网络": 3.28
          }
        },
        {
          name: '癌症防治行动',
          value: 25.83,
          yearData: {
            "政策数量": 12.81,
            "政策质量": 47.10,
            "政策网络": 25.15
          }
        },
        {
          name: '糖尿病防治行动',
          value: 21.63,
          yearData: {
            "政策数量": 3.45,
            "政策质量": 42.61,
            "政策网络": 9.10
          }
        }
      ],
      '2022': [
        {
          name: '老年健康促进行动',
          value: 65.39,
          yearData: {
            "政策数量": 67.76,
            "政策质量": 88.20,
            "政策网络": 58.88
          }
        },
        {
          name: '健康知识普及行动',
          value: 56.75,
          yearData: {
            "政策数量": 49.67,
            "政策质量": 81.35,
            "政策网络": 47.38
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 49.52,
          yearData: {
            "政策数量": 47.94,
            "政策质量": 74.31,
            "政策网络": 40.64
          }
        },
        {
          name: '健康环境促进行动',
          value: 47.86,
          yearData: {
            "政策数量": 46.61,
            "政策质量": 72.10,
            "政策网络": 32.56
          }
        },
        {
          name: '全民健身行动',
          value: 47.40,
          yearData: {
            "政策数量": 41.11,
            "政策质量": 84.27,
            "政策网络": 35.73
          }
        },
        {
          name: '职业健康保护行动',
          value: 45.46,
          yearData: {
            "政策数量": 34.27,
            "政策质量": 82.30,
            "政策网络": 46.19
          }
        },
        {
          name: '中小学健康促进行动',
          value: 39.29,
          yearData: {
            "政策数量": 31.89,
            "政策质量": 84.80,
            "政策网络": 23.48
          }
        },
        {
          name: '传染病及地方病防控行动',
          value: 38.15,
          yearData: {
            "政策数量": 43.92,
            "政策质量": 73.35,
            "政策网络": 22.03
          }
        },
        {
          name: '控烟行动',
          value: 33.69,
          yearData: {
            "政策数量": 10.89,
            "政策质量": 91.02,
            "政策网络": 12.96
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 31.77,
          yearData: {
            "政策数量": 2.60,
            "政策质量": 68.11,
            "政策网络": 28.51
          }
        },
        {
          name: '合理膳食行动',
          value: 31.22,
          yearData: {
            "政策数量": 22.91,
            "政策质量": 69.01,
            "政策网络": 17.38
          }
        },
        {
          name: '心理健康促进行动',
          value: 28.27,
          yearData: {
            "政策数量": 5.14,
            "政策质量": 75.17,
            "政策网络": 4.74
          }
        },
        {
          name: '糖尿病防治行动',
          value: 27.32,
          yearData: {
            "政策数量": 4.67,
            "政策质量": 40.51,
            "政策网络": 31.33
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 24.86,
          yearData: {
            "政策数量": 6.35,
            "政策质量": 28.29,
            "政策网络": 32.12
          }
        },
        {
          name: '癌症防治行动',
          value: 20.25,
          yearData: {
            "政策数量": 6.10,
            "政策质量": 40.78,
            "政策网络": 10.22
          }
        }
      ],
      '2023': [
        {
          name: '传染病及地方病防控行动',
          value: 57.36,
          yearData: {
            "政策数量": 70.60,
            "政策质量": 63.52,
            "政策网络": 52.90
          }
        },
        {
          name: '健康知识普及行动',
          value: 55.92,
          yearData: {
            "政策数量": 49.74,
            "政策质量": 59.04,
            "政策网络": 55.78
          }
        },
        {
          name: '老年健康促进行动',
          value: 55.56,
          yearData: {
            "政策数量": 69.75,
            "政策质量": 36.58,
            "政策网络": 57.80
          }
        },
        {
          name: '健康环境促进行动',
          value: 54.44,
          yearData: {
            "政策数量": 53.71,
            "政策质量": 52.90,
            "政策网络": 48.94
          }
        },
        {
          name: '妇幼健康促进行动',
          value: 54.37,
          yearData: {
            "政策数量": 58.33,
            "政策质量": 68.79,
            "政策网络": 48.35
          }
        },
        {
          name: '心理健康促进行动',
          value: 50.99,
          yearData: {
            "政策数量": 19.47,
            "政策质量": 86.54,
            "政策网络": 57.57
          }
        },
        {
          name: '职业健康保护行动',
          value: 48.29,
          yearData: {
            "政策数量": 43.11,
            "政策质量": 84.37,
            "政策网络": 45.37
          }
        },
        {
          name: '全民健身行动',
          value: 47.11,
          yearData: {
            "政策数量": 38.74,
            "政策质量": 71.28,
            "政策网络": 41.88
          }
        },
        {
          name: '中小学健康促进行动',
          value: 44.73,
          yearData: {
            "政策数量": 26.93,
            "政策质量": 79.05,
            "政策网络": 34.61
          }
        },
        {
          name: '合理膳食行动',
          value: 39.05,
          yearData: {
            "政策数量": 30.51,
            "政策质量": 82.99,
            "政策网络": 29.96
          }
        },
        {
          name: '癌症防治行动',
          value: 36.80,
          yearData: {
            "政策数量": 13.84,
            "政策质量": 80.12,
            "政策网络": 22.07
          }
        },
        {
          name: '心脑血管疾病防治行动',
          value: 36.70,
          yearData: {
            "政策数量": 14.15,
            "政策质量": 51.95,
            "政策网络": 42.10
          }
        },
        {
          name: '控烟行动',
          value: 28.01,
          yearData: {
            "政策数量": 5.14,
            "政策质量": 62.15,
            "政策网络": 21.75
          }
        },
        {
          name: '慢性呼吸系统疾病防治行动',
          value: 27.27,
          yearData: {
            "政策数量": 4.60,
            "政策质量": 58.51,
            "政策网络": 21.06
          }
        },
        {
          name: '糖尿病防治行动',
          value: 21.36,
          yearData: {
            "政策数量": 6.04,
            "政策质量": 20.91,
            "政策网络": 24.92
          }
        }
      ]
    };

    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化行动维度图表
      actionChart = echarts.init(document.getElementById('echart5'));

      // 确保switchActionView函数在全局作用域可用
      window.switchActionView = switchActionView;

      // 初始显示2016年数据
      switchActionView('2016');

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (actionChart) {
          actionChart.resize();
        }
      });
    });

    function getActionOption(year) {
      const y_data = actionData[year].map(item => item.name);

      return {
        grid: {
          containLabel: true,
          top: 10,
          left: 0,
          right: -150,
          bottom: 0
        },
        tooltip: {
          show: true,
          formatter: function (params) {
            const yearData = actionData[year].find(item => item.name === params.name).yearData;
            window.updateBt01('政策数量', yearData["政策数量"]);
            window.updateBt02('政策质量', yearData["政策质量"]);
            window.updateBt03('政策网络', yearData["政策网络"]);
            return params.name + '<br/>' + params.seriesName + ':' + params.value.toFixed(2);
          }
        },
        xAxis: {
          splitNumber: spNum,
          max: Math.max(...actionData[year].map(item => item.value)) + 5,
          axisLabel: {
            show: false,
            formatter: function (v) {
              var _v = (v).toFixed(2);
              return _v == 0 ? _v : _v;
            }
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        },
        yAxis: [{
          data: y_data,
          inverse: true,
          axisLabel: {
            fontSize: 8,
            color: 'rgba(255,255,255,.6)'
          },
          axisLine: { show: false },
          axisTick: { show: false },
          splitLine: { show: false }
        }, {
          show: false,
          data: y_data,
          axisLine: { show: false }
        }],
        series: [{
          type: 'bar',
          name: '健康中国建设发展指数',
          label: {
            normal: {
              show: true,
              position: 'inside',
              formatter: function (params) {
                return params.value.toFixed(2);
              },
              textStyle: {
                color: '#fff',
                fontSize: 8
              }
            }
          },
          barWidth: '50%',
          itemStyle: {
            normal: { color: '#58c485' },
            emphasis: { color: '#ea7231' }
          },
          data: actionData[year].map(item => item.value)
        }]
      };
    }

    function switchActionView(year) {
      // 更新按钮状态
      $('.action-btn a').each(function () {
        $(this).removeClass('active');
        if ($(this).text() === year) {
          $(this).addClass('active');
        }
      });

      // 更新图表
      if (actionChart) {
        actionChart.clear();
        actionChart.setOption(getActionOption(year));
      }
      window.updateBt01('政策数量', 0);
      window.updateBt02('政策质量', 0);
      window.updateBt03('政策网络', 0);
    }

    // 将函数暴露到全局作用域
    window.switchActionView = switchActionView;
  </script>

  <!-- <script>
    // 政策树图表初始化
    var policyTreeChart = null;

    // 定义政策树数据
    const policyTreeData = {
      name: '健康中国政策体系',
      children: [
        {
          name: '防控重大疾病',
          children: [
            { name: '癌症防治行动' },
            { name: '心脑血管疾病防治行动' },
            { name: '糖尿病防治行动' },
            { name: '传染病及地方病防控行动' },
            { name: '慢性呼吸系统疾病防治行动' }
          ]
        },
        {
          name: '全方位干预健康影响因素',
          children: [
            { name: '健康知识普及行动' },
            { name: '合理膳食行动' },
            { name: '全民健身行动' },
            { name: '控烟行动' },
            { name: '健康环境促进行动' }
          ]
        },
        {
          name: '维护全生命周期健康',
          children: [
            { name: '妇幼健康促进行动' },
            { name: '中小学健康促进行动' },
            { name: '职业健康保护行动' },
            { name: '老年健康促进行动' },
            { name: '心理健康促进行动' }
          ]
        }
      ]
    };

    function getPolicyTreeOption() {
      // 配置树图选项
      const policyTreeOption = {
        tooltip: {
          trigger: 'item',
          triggerOn: 'mousemove'
        },
        series: [
          {
            type: 'tree',
            data: [policyTreeData],
            top: '5%',
            left: '10%',
            bottom: '5%',
            right: '10%',
            symbolSize: 10,
            label: {
              position: 'left',
              verticalAlign: 'middle',
              align: 'right',
              color: 'rgba(255,255,255,.8)',
              fontSize: 12
            },
            leaves: {
              label: {
                position: 'right',
                verticalAlign: 'middle',
                align: 'left'
              }
            },
            emphasis: {
              focus: 'descendant'
            },
            expandAndCollapse: true,
            animationDuration: 550,
            animationDurationUpdate: 750,
            initialTreeDepth: 2,
            lineStyle: {
              color: '#58c485',
              width: 1
            },
            itemStyle: {
              color: '#58c485',
              borderColor: '#fff'
            }
          }
        ]
      };
      return policyTreeOption;
    }

    $(document).ready(function () {
      // 初始化树图
      policyTreeChart = echarts.init(document.getElementById('policyTree'));
      policyTreeChart.setOption(getPolicyTreeOption());

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (policyTreeChart) {
          policyTreeChart.resize();
        }
      });
    });
  </script> -->

  <script>
    var networkChart = null;

    // 定义部门节点数据
    const departmentNodes = [
      { name: '国家卫生健康委员会', symbolSize: 50 },
      { name: '科学技术部', symbolSize: 30 },
      { name: '财政部', symbolSize: 30 },
      { name: '教育部', symbolSize: 30 },
      { name: '民政部', symbolSize: 30 },
      { name: '人力资源和社会保障部', symbolSize: 30 },
      { name: '中央宣传部', symbolSize: 30 },
      { name: '工业和信息化部', symbolSize: 30 },
      { name: '公安部', symbolSize: 30 },
      { name: '交通运输部', symbolSize: 30 }
    ];

    // 定义部门间关系数据
    const departmentLinks = [
      { source: '国家卫生健康委员会', target: '科学技术部', value: 0.8 },
      { source: '国家卫生健康委员会', target: '财政部', value: 0.7 },
      { source: '国家卫生健康委员会', target: '教育部', value: 0.9 },
      { source: '国家卫生健康委员会', target: '民政部', value: 0.6 },
      { source: '教育部', target: '科学技术部', value: 0.5 },
      { source: '民政部', target: '人力资源和社会保障部', value: 0.4 },
      { source: '中央宣传部', target: '教育部', value: 0.6 },
      { source: '工业和信息化部', target: '科学技术部', value: 0.7 },
      { source: '公安部', target: '交通运输部', value: 0.5 },
      // 可以继续添加更多关系
    ];

    // 初始化关系图配置
    function getNetworkOption() {
      return {
        tooltip: {
          formatter: function (params) {
            if (params.dataType === 'edge') {
              return `${params.data.source} -> ${params.data.target}<br/>协同强度: ${params.data.value}`;
            }
            return params.data.name;
          }
        },
        series: [{
          type: 'graph',
          layout: 'force',
          force: {
            repulsion: 400,
            edgeLength: 120
          },
          roam: true,
          draggable: true,
          label: {
            show: true,
            position: 'right',
            color: 'rgba(255,255,255,.8)',
            fontSize: 12
          },
          data: departmentNodes.map(node => ({
            ...node,
            itemStyle: {
              color: '#58c485'
            }
          })),
          edges: departmentLinks.map(link => ({
            ...link,
            lineStyle: {
              width: link.value * 5, // 根据关系强度设置线条粗细
              color: 'rgba(88,196,133,0.6)',
              curveness: 0.3
            }
          })),
          emphasis: {
            focus: 'adjacency',
            lineStyle: {
              color: '#fff'
            }
          },
        }]
      };
    }

    // 页面加载完成后初始化
    $(document).ready(function () {
      // 初始化网络图表
      networkChart = echarts.init(document.getElementById('network'));
      networkChart.setOption(getNetworkOption());

      // 监听窗口大小变化
      window.addEventListener('resize', function () {
        if (networkChart) {
          networkChart.resize();
        }
      });
    });
  </script>
</body>

</html>